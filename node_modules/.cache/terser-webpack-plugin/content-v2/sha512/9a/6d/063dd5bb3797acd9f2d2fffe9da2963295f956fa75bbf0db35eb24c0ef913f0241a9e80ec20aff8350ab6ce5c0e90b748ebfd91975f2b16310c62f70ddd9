{"code":"(this[\"webpackJsonpdynamic-form-builder\"]=this[\"webpackJsonpdynamic-form-builder\"]||[]).push([[0],{144:function(e,t,a){\"use strict\";a.r(t);var c=a(0),l=a.n(c),r=a(36),n=a.n(r),i=a(74),s=a(20),o=a(14),d=a(213),j=a(225),b=a(67),u=a(212),h=a(226),O=a(214),x=a(216),v=a(219),m=a(221),p=a(230),g=a(222),f=a(232),y=a(215),k=a(208),C=a(224),w=a(233),A=a(209),F=a(234),S=a(235),I=a(218),D=a(113),L=a(2);const M=e=>Object(L.jsx)(D.a,Object(o.a)(Object(o.a)({},e),{},{children:Object(L.jsx)(\"path\",{d:\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"})}));var E=()=>{const[e,t]=Object(c.useState)([]),[a,l]=Object(c.useState)(\"text\"),[r,n]=Object(c.useState)(\"\"),[i,s]=Object(c.useState)(!1),[D,E]=Object(c.useState)(!1),[T,B]=Object(c.useState)({}),N=Object(c.useCallback)((e,t)=>{try{const a=Object(o.a)({},t),c={Date:Date,Math:Math,parseInt:parseInt,parseFloat:parseFloat,calculateAge:e=>{if(!e)return 0;const t=new Date,a=new Date(e);if(isNaN(a.getTime()))return 0;let c=t.getFullYear()-a.getFullYear();const l=t.getMonth()-a.getMonth();return(l<0||0===l&&t.getDate()<a.getDate())&&c--,c}},l=Object(o.a)(Object(o.a)({},a),c),r=Object.keys(l),n=Object.values(l);return new Function(...r,'\"use strict\"; return ('.concat(e,\");\"))(...n)}catch(a){return console.error(\"Formula evaluation error:\",a,\"Formula:\",e,\"Context:\",t),\"Error\"}},[]),W=Object(c.useCallback)(t=>{const a=Object(o.a)({},t);let c=!1;e.forEach(l=>{if(l.derived&&l.parentFields&&l.formula){const r={};let n=!0;if(l.parentFields.forEach(a=>{const c=e.find(e=>e.id===a);c&&a in t?r[c.label.toLowerCase().replace(/\\s+/g,\"_\")]=t[a]:n=!1}),n){const e=N(l.formula,r);a[l.id]!==e&&(a[l.id]=e,c=!0)}}}),c&&B(a)},[e,N]),z=(e,a)=>{t(t=>t.map(t=>t.id===e?Object(o.a)(Object(o.a)({},t),a):t))},P=(e,t)=>{const a=Object(o.a)(Object(o.a)({},T),{},{[e]:t});B(a),W(a)};return Object(L.jsxs)(j.a,{p:3,children:[Object(L.jsx)(b.a,{variant:\"h4\",gutterBottom:!0,children:\"Create Dynamic Form\"}),Object(L.jsxs)(j.a,{display:\"flex\",gap:2,alignItems:\"center\",mb:3,children:[Object(L.jsxs)(u.a,{value:a,onChange:e=>l(e.target.value),children:[Object(L.jsx)(h.a,{value:\"text\",children:\"Text\"}),Object(L.jsx)(h.a,{value:\"number\",children:\"Number\"}),Object(L.jsx)(h.a,{value:\"textarea\",children:\"Textarea\"}),Object(L.jsx)(h.a,{value:\"select\",children:\"Select\"}),Object(L.jsx)(h.a,{value:\"radio\",children:\"Radio\"}),Object(L.jsx)(h.a,{value:\"checkbox\",children:\"Checkbox\"}),Object(L.jsx)(h.a,{value:\"date\",children:\"Date\"})]}),Object(L.jsx)(m.a,{variant:\"contained\",onClick:()=>{const e={id:Object(I.a)(),type:a,label:\"\",validation:{required:!1},options:\"select\"===a?[]:void 0};[\"select\",\"radio\",\"checkbox\"].includes(a)&&(e.options=[\"Option 1\",\"Option 2\"]),t(t=>[...t,e])},children:\"Add Field\"}),e.length>0&&Object(L.jsx)(m.a,{variant:\"outlined\",onClick:()=>E(!D),children:D?\"Hide Preview\":\"Show Preview\"})]}),Object(L.jsxs)(j.a,{display:\"flex\",gap:3,children:[Object(L.jsxs)(j.a,{flex:D?1:2,children:[Object(L.jsx)(b.a,{variant:\"h6\",gutterBottom:!0,children:\"Form Builder\"}),Object(L.jsx)(p.a,{children:e.map((a,c)=>{var l,r,n;return Object(L.jsxs)(j.a,{mb:3,children:[Object(L.jsx)(g.a,{children:Object(L.jsxs)(j.a,{width:\"100%\",children:[Object(L.jsxs)(j.a,{display:\"flex\",alignItems:\"center\",justifyContent:\"space-between\",mb:1,children:[Object(L.jsxs)(b.a,{variant:\"h6\",children:[\"Field #\",c+1,\" - \",a.type]}),Object(L.jsx)(f.a,{onClick:()=>{return e=a.id,t(t=>t.filter(t=>t.id!==e)),void B(t=>{const a=Object(o.a)({},t);return delete a[e],a});var e},children:Object(L.jsx)(M,{})})]}),Object(L.jsx)(d.a,{fullWidth:!0,label:\"Label\",value:a.label,onChange:e=>z(a.id,{label:e.target.value}),margin:\"normal\"}),!a.derived&&Object(L.jsx)(d.a,{fullWidth:!0,label:\"Default Value\",value:null!==(l=a.defaultValue)&&void 0!==l?l:\"\",onChange:e=>z(a.id,{defaultValue:e.target.value}),margin:\"normal\"}),Object(L.jsx)(O.a,{control:Object(L.jsx)(v.a,{checked:a.validation.required,onChange:e=>z(a.id,{validation:Object(o.a)(Object(o.a)({},a.validation),{},{required:e.target.checked})})}),label:\"Required\"}),\"text\"===a.type||\"textarea\"===a.type?Object(L.jsxs)(j.a,{children:[Object(L.jsx)(d.a,{type:\"number\",label:\"Min Length\",value:a.validation.minLength||\"\",onChange:e=>z(a.id,{validation:Object(o.a)(Object(o.a)({},a.validation),{},{minLength:Number(e.target.value)})}),margin:\"normal\",size:\"small\",sx:{mr:2}}),Object(L.jsx)(d.a,{type:\"number\",label:\"Max Length\",value:a.validation.maxLength||\"\",onChange:e=>z(a.id,{validation:Object(o.a)(Object(o.a)({},a.validation),{},{maxLength:Number(e.target.value)})}),margin:\"normal\",size:\"small\"}),Object(L.jsxs)(j.a,{children:[Object(L.jsx)(O.a,{control:Object(L.jsx)(v.a,{checked:a.validation.email||!1,onChange:e=>z(a.id,{validation:Object(o.a)(Object(o.a)({},a.validation),{},{email:e.target.checked})})}),label:\"Email Format\"}),Object(L.jsx)(O.a,{control:Object(L.jsx)(v.a,{checked:a.validation.password||!1,onChange:e=>z(a.id,{validation:Object(o.a)(Object(o.a)({},a.validation),{},{password:e.target.checked})})}),label:\"Password Rule\"})]})]}):null,Object(L.jsx)(O.a,{control:Object(L.jsx)(v.a,{checked:a.derived||!1,onChange:e=>z(a.id,{derived:e.target.checked})}),label:\"Is Derived Field?\"}),a.derived&&Object(L.jsxs)(j.a,{children:[Object(L.jsx)(b.a,{variant:\"subtitle2\",gutterBottom:!0,children:\"Parent Fields:\"}),(n=a.id,e.filter(e=>e.id!==n&&!e.derived&&\"\"!==e.label.trim())).map(e=>{var t;return Object(L.jsx)(O.a,{control:Object(L.jsx)(v.a,{checked:(null===(t=a.parentFields)||void 0===t?void 0:t.includes(e.id))||!1,onChange:t=>{const c=a.parentFields||[],l=t.target.checked?[...c,e.id]:c.filter(t=>t!==e.id);z(a.id,{parentFields:l})}}),label:\"\".concat(e.label,\" (\").concat(e.type,\")\")},e.id)}),Object(L.jsx)(d.a,{fullWidth:!0,label:\"Formula / Logic\",value:a.formula||\"\",onChange:e=>z(a.id,{formula:e.target.value}),margin:\"normal\",helperText:\"Use field labels in lowercase with underscores (e.g., calculateAge(date_of_birth))\"}),a.parentFields&&a.parentFields.length>0&&a.formula&&Object(L.jsxs)(y.a,{severity:\"info\",sx:{mt:1},children:[\"Available variables: \",a.parentFields.map(t=>{const a=e.find(e=>e.id===t);return null===a||void 0===a?void 0:a.label.toLowerCase().replace(/\\s+/g,\"_\")}).join(\", \")]})]}),(\"select\"===a.type||\"radio\"===a.type||\"checkbox\"===a.type)&&!a.derived&&Object(L.jsxs)(j.a,{mb:2,children:[Object(L.jsx)(b.a,{variant:\"subtitle1\",children:\"Options\"}),null===(r=a.options)||void 0===r?void 0:r.map((e,t)=>Object(L.jsxs)(j.a,{display:\"flex\",alignItems:\"center\",mb:1,gap:1,children:[Object(L.jsx)(d.a,{label:\"Option \".concat(t+1),value:e,onChange:e=>{var c;const l=[...null!==(c=a.options)&&void 0!==c?c:[]];l[t]=e.target.value,z(a.id,{options:l})},size:\"small\"}),a.options&&a.options.length>2&&Object(L.jsx)(f.a,{size:\"small\",onClick:()=>{const e=a.options.filter((e,a)=>a!==t);z(a.id,{options:e})},children:Object(L.jsx)(M,{fontSize:\"small\"})}),Object(L.jsx)(O.a,{control:\"checkbox\"===a.type?Object(L.jsx)(v.a,{checked:!!Array.isArray(a.validation.correctAnswers)&&a.validation.correctAnswers.includes(e),onChange:t=>{let c=Array.isArray(a.validation.correctAnswers)?[...a.validation.correctAnswers]:[];t.target.checked?c.push(e):c=c.filter(t=>t!==e),z(a.id,{validation:Object(o.a)(Object(o.a)({},a.validation),{},{correctAnswers:c})})}}):Object(L.jsx)(x.a,{checked:a.validation.correctAnswer===e,onChange:()=>z(a.id,{validation:Object(o.a)(Object(o.a)({},a.validation),{},{correctAnswer:e})})}),label:\"Correct\"})]},t)),Object(L.jsx)(m.a,{variant:\"outlined\",size:\"small\",onClick:()=>{var e;const t=[...null!==(e=a.options)&&void 0!==e?e:[],\"Option \".concat(a.options.length+1)];z(a.id,{options:t})},children:\"Add Option\"})]})]})}),Object(L.jsx)(k.a,{})]},a.id)})})]}),D&&e.length>0&&Object(L.jsx)(j.a,{flex:1,children:Object(L.jsxs)(C.a,{elevation:2,sx:{p:3},children:[Object(L.jsx)(b.a,{variant:\"h6\",gutterBottom:!0,children:\"Live Preview\"}),Object(L.jsxs)(j.a,{children:[e.map(e=>e.label?(e=>{var t,a,c,l;const r=null!==(t=T[e.id])&&void 0!==t?t:\"checkbox\"===e.type?[]:\"\";if(e.derived)return Object(L.jsx)(d.a,{fullWidth:!0,label:\"\".concat(e.label,\" (Auto-calculated)\"),value:r,disabled:!0,margin:\"normal\",sx:{\"& .MuiInputBase-input\":{color:\"text.secondary\"}}},e.id);switch(e.type){case\"text\":case\"number\":case\"date\":return Object(L.jsx)(d.a,{type:e.type,fullWidth:!0,label:e.label,value:r,onChange:t=>P(e.id,t.target.value),margin:\"normal\"},e.id);case\"textarea\":return Object(L.jsx)(d.a,{fullWidth:!0,label:e.label,value:r,onChange:t=>P(e.id,t.target.value),multiline:!0,rows:3,margin:\"normal\"},e.id);case\"select\":return Object(L.jsxs)(j.a,{mb:2,children:[Object(L.jsx)(b.a,{children:e.label}),Object(L.jsx)(u.a,{fullWidth:!0,value:r,onChange:t=>P(e.id,t.target.value),children:null===(a=e.options)||void 0===a?void 0:a.map((e,t)=>Object(L.jsx)(h.a,{value:e,children:e},t))})]},e.id);case\"radio\":return Object(L.jsxs)(j.a,{mb:2,children:[Object(L.jsx)(b.a,{children:e.label}),null===(c=e.options)||void 0===c?void 0:c.map((t,a)=>Object(L.jsx)(O.a,{value:t,control:Object(L.jsx)(x.a,{checked:r===t,onChange:()=>P(e.id,t)}),label:t},a))]},e.id);case\"checkbox\":return Object(L.jsxs)(j.a,{mb:2,children:[Object(L.jsx)(b.a,{children:e.label}),null===(l=e.options)||void 0===l?void 0:l.map((t,a)=>Object(L.jsx)(O.a,{control:Object(L.jsx)(v.a,{checked:Array.isArray(r)&&r.includes(t),onChange:a=>{const c=Array.isArray(r)?r:[],l=a.target.checked?[...c,t]:c.filter(e=>e!==t);P(e.id,l)}}),label:t},a))]},e.id);default:return null}})(e):null),e.some(e=>e.derived)&&Object(L.jsx)(y.a,{severity:\"info\",sx:{mt:2},children:\"Derived fields will auto-update as you change parent fields above.\"})]})]})})]}),Object(L.jsx)(j.a,{mt:3,children:Object(L.jsx)(m.a,{variant:\"contained\",color:\"primary\",onClick:()=>s(!0),disabled:0===e.length,children:\"Save Form\"})}),Object(L.jsxs)(w.a,{open:i,onClose:()=>s(!1),children:[Object(L.jsx)(A.a,{children:\"Save Form\"}),Object(L.jsx)(F.a,{children:Object(L.jsx)(d.a,{fullWidth:!0,label:\"Form Name\",value:r,onChange:e=>n(e.target.value),margin:\"normal\"})}),Object(L.jsxs)(S.a,{children:[Object(L.jsx)(m.a,{onClick:()=>s(!1),children:\"Cancel\"}),Object(L.jsx)(m.a,{onClick:()=>{const a={name:r,fields:e,createdAt:(new Date).toISOString()};localStorage.setItem(\"form_\".concat(r),JSON.stringify(a)),s(!1),alert(\"Form saved successfully!\"),t([]),n(\"\"),B({})},variant:\"contained\",color:\"primary\",disabled:!r,children:\"Save\"})]})]})]})},T=a(231),B=a(220);var N=()=>{const[e,t]=Object(c.useState)(null),[a,l]=Object(c.useState)({}),[r,n]=Object(c.useState)({}),[i,p]=Object(c.useState)(!1),[g,f]=Object(c.useState)(null),{formId:k}=Object(s.h)();Object(c.useEffect)(()=>{if(!k)return;const e=localStorage.getItem(k);if(e){const a=JSON.parse(e);t(a);const c={};a.fields.forEach(e=>{e.derived||(c[e.id]=e.defaultValue||(\"checkbox\"===e.type?[]:\"\"))}),l(c)}},[k]);const C=Object(c.useCallback)((e,t)=>{try{let a=Object.values(t);if(a.some(e=>\"\"===e||void 0===e||null===e))return\"\";const c=Object(o.a)({},t),l={Date:Date,Math:Math,parseInt:parseInt,parseFloat:parseFloat,calculateAge:e=>{if(!e)return 0;const t=new Date,a=new Date(e);if(isNaN(a.getTime()))return 0;let c=t.getFullYear()-a.getFullYear();const l=t.getMonth()-a.getMonth();return(l<0||0===l&&t.getDate()<a.getDate())&&c--,c}},r=Object(o.a)(Object(o.a)({},c),l),n=Object.keys(r);a=Object.values(r);return new Function(...n,'\"use strict\"; return ('.concat(e,\");\"))(...a)}catch(a){return console.error(\"Formula evaluation error:\",a,\"Formula:\",e,\"Context:\",t),\"Error\"}},[]),w=Object(c.useCallback)(t=>{if(!e)return t;const a=Object(o.a)({},t);let c=!1;return e.fields.forEach(l=>{if(l.derived&&l.parentFields&&l.formula){const r={};let n=!0;if(l.parentFields.forEach(a=>{const c=e.fields.find(e=>e.id===a);if(c&&a in t){const e=c.label.toLowerCase().replace(/\\s+/g,\"_\");r[e]=t[a]}else n=!1}),n){const e=C(l.formula,r);a[l.id]!==e&&(a[l.id]=e,c=!0)}else l.id in a&&(delete a[l.id],c=!0)}}),c?a:t},[e,C]);Object(c.useEffect)(()=>{if(!e||0===Object.keys(a).length)return;const t=w(a);t!==a&&l(t)},[e,a,w]);const A=Object(c.useCallback)((e,t)=>{const{validation:a}=e;if(a.required&&(!t||Array.isArray(t)&&0===t.length))return\"This field is required.\";if(\"string\"===typeof t){if(a.minLength&&t.length<a.minLength)return\"Minimum length is \".concat(a.minLength);if(a.maxLength&&t.length>a.maxLength)return\"Maximum length is \".concat(a.maxLength);if(a.email&&t&&!/^\\S+@\\S+\\.\\S+$/.test(t))return\"Invalid email format.\";if(a.password&&t&&(!/^.{8,}$/.test(t)||!/\\d/.test(t)))return\"Password must be at least 8 characters and contain a number.\"}return\"\"},[]),F=Object(c.useCallback)((t,c)=>{const r=Object(o.a)(Object(o.a)({},a),{},{[t]:c}),i=w(r);l(i);const s=null===e||void 0===e?void 0:e.fields.find(e=>e.id===t);if(s&&!s.derived){const e=A(s,c);n(a=>Object(o.a)(Object(o.a)({},a),{},{[t]:e}))}},[a,w,e,A]);return e?Object(L.jsxs)(j.a,{p:4,children:[Object(L.jsxs)(b.a,{variant:\"h4\",gutterBottom:!0,children:[\"Preview: \",e.name]}),Object(L.jsxs)(j.a,{component:\"form\",display:\"flex\",flexDirection:\"column\",gap:3,onSubmit:t=>{t.preventDefault(),p(!0);const c={};null===e||void 0===e||e.fields.forEach(e=>{if(!e.derived){const t=A(e,a[e.id]);t&&(c[e.id]=t)}}),n(c);let l=!0,r=\"\";null===e||void 0===e||e.fields.forEach(e=>{const t=a[e.id];if(\"radio\"!==e.type&&\"select\"!==e.type||!e.validation.correctAnswer||t!==e.validation.correctAnswer&&(l=!1,r+=\"\".concat(e.label,\": Incorrect answer.\\n\")),\"checkbox\"===e.type&&Array.isArray(e.validation.correctAnswers)){const a=Array.isArray(t)?t:[],c=e.validation.correctAnswers;a.length===c.length&&c.every(e=>a.includes(e))||(l=!1,r+=\"\".concat(e.label,\": Incorrect answer.\\n\"))}}),f(l?\"All answers are correct!\":r||\"Some answers are incorrect.\"),0===Object.keys(c).length&&(console.log(\"Form Values:\",a),alert(\"Form submitted successfully (check console for values)!\"))},children:[e.fields.map(e=>{var t,c,l,n,i;const s=null!==(t=a[e.id])&&void 0!==t?t:\"checkbox\"===e.type?[]:\"\",o=null!==(c=r[e.id])&&void 0!==c?c:\"\",m=e.derived||!1;switch(e.type){case\"text\":case\"number\":case\"date\":return Object(L.jsx)(d.a,{type:e.type,label:\"\".concat(e.label).concat(m?\" (Auto-calculated)\":\"\"),value:s,onChange:t=>F(e.id,t.target.value),error:!!o,helperText:o||(m?\"This field is automatically calculated\":\"\"),disabled:m,sx:m?{\"& .MuiInputBase-input\":{color:\"text.secondary\"}}:{}},e.id);case\"textarea\":return Object(L.jsx)(d.a,{label:\"\".concat(e.label).concat(m?\" (Auto-calculated)\":\"\"),value:s,onChange:t=>F(e.id,t.target.value),error:!!o,helperText:o||(m?\"This field is automatically calculated\":\"\"),multiline:!0,rows:3,disabled:m,sx:m?{\"& .MuiInputBase-input\":{color:\"text.secondary\"}}:{}},e.id);case\"select\":return Object(L.jsxs)(j.a,{children:[Object(L.jsxs)(b.a,{children:[e.label,m?\" (Auto-calculated)\":\"\"]}),Object(L.jsx)(u.a,{fullWidth:!0,value:s,onChange:t=>F(e.id,t.target.value),disabled:m,sx:m?{color:\"text.secondary\"}:{},children:null===(l=e.options)||void 0===l?void 0:l.map((e,t)=>Object(L.jsx)(h.a,{value:e,children:e},t))}),o&&Object(L.jsx)(T.a,{error:!0,children:o}),m&&Object(L.jsx)(T.a,{children:\"This field is automatically calculated\"})]},e.id);case\"radio\":return Object(L.jsxs)(j.a,{children:[Object(L.jsxs)(b.a,{children:[e.label,m?\" (Auto-calculated)\":\"\"]}),Object(L.jsx)(B.a,{value:s,onChange:t=>F(e.id,t.target.value),children:null===(n=e.options)||void 0===n?void 0:n.map((e,t)=>Object(L.jsx)(O.a,{value:e,control:Object(L.jsx)(x.a,{disabled:m}),label:e,sx:m?{color:\"text.secondary\"}:{}},t))}),o&&Object(L.jsx)(T.a,{error:!0,children:o}),m&&Object(L.jsx)(T.a,{children:\"This field is automatically calculated\"})]},e.id);case\"checkbox\":return Object(L.jsxs)(j.a,{children:[Object(L.jsxs)(b.a,{children:[e.label,m?\" (Auto-calculated)\":\"\"]}),null===(i=e.options)||void 0===i?void 0:i.map((t,a)=>Object(L.jsx)(O.a,{control:Object(L.jsx)(v.a,{checked:Array.isArray(s)&&s.includes(t),onChange:a=>{if(!m){const c=a.target.checked,l=Array.isArray(s)?s:[],r=c?[...l,t]:l.filter(e=>e!==t);F(e.id,r)}},disabled:m}),label:t,sx:m?{color:\"text.secondary\"}:{}},a)),o&&Object(L.jsx)(T.a,{error:!0,children:o}),m&&Object(L.jsx)(T.a,{children:\"This field is automatically calculated\"})]},e.id);default:return null}}),Object(L.jsx)(m.a,{variant:\"contained\",type:\"submit\",size:\"large\",children:\"Submit\"})]}),i&&g&&Object(L.jsx)(j.a,{mt:2,children:Object(L.jsx)(y.a,{severity:\"All answers are correct!\"===g?\"success\":\"error\",children:g})})]}):Object(L.jsx)(b.a,{children:\"Loading form...\"})},W=a(210),z=a(211);var P=()=>{const[e,t]=Object(c.useState)([]),a=Object(s.g)();Object(c.useEffect)(()=>{const e=Object.keys(localStorage).filter(e=>e.startsWith(\"form_\")).map(e=>{const t=localStorage.getItem(e);if(!t)return null;try{return{key:e,data:JSON.parse(t)}}catch(a){return console.error(\"Error parsing form \".concat(e,\":\"),a),null}}).filter(Boolean);t(e)},[]);return Object(L.jsxs)(j.a,{p:4,children:[Object(L.jsx)(b.a,{variant:\"h4\",gutterBottom:!0,children:\"Saved Forms\"}),Object(L.jsxs)(p.a,{children:[e.map(e=>{let{key:t,data:c}=e;return Object(L.jsxs)(l.a.Fragment,{children:[Object(L.jsx)(W.a,{onClick:()=>(e=>{a.push(\"/preview-form/\".concat(encodeURIComponent(e)))})(t),children:Object(L.jsx)(z.a,{primary:c.name,secondary:\"Created: \".concat(new Date(c.createdAt).toLocaleString())})}),Object(L.jsx)(k.a,{})]},t)}),0===e.length&&Object(L.jsx)(b.a,{children:\"No saved forms found.\"})]})]})};var V=()=>Object(L.jsx)(i.a,{children:Object(L.jsxs)(s.d,{children:[Object(L.jsx)(s.b,{path:\"/create-form\",component:E}),Object(L.jsx)(s.b,{path:\"/preview-form/:formId\",component:N}),Object(L.jsx)(s.b,{path:\"/my-forms\",component:P}),Object(L.jsx)(s.a,{from:\"/\",to:\"/create-form\",exact:!0})]})});n.a.render(Object(L.jsx)(l.a.StrictMode,{children:Object(L.jsx)(V,{})}),document.getElementById(\"root\"))}},[[144,1,2]]]);","name":"static/js/main.b4192ea9.chunk.js","map":{"version":3,"names":["this","push","module","__webpack_exports__","__webpack_require__","r","react","react_default","n","react_dom","react_dom_default","react_router_dom","react_router","objectSpread2","TextField","Box","Typography","Select","MenuItem","FormControlLabel","Radio","Checkbox","Button","List","ListItem","IconButton","Alert","Divider","Paper","Dialog","DialogTitle","DialogContent","DialogActions","v4","SvgIcon","jsx_runtime","DeleteIcon","props","Object","children","d","components_CreateForm","fields","setFields","newField","setNewField","formName","setFormName","openDialog","setOpenDialog","showPreview","setShowPreview","previewValues","setPreviewValues","evalFormula","formula","context","safeContext","helpers","Date","Math","parseInt","parseFloat","calculateAge","birthDate","today","birth","isNaN","getTime","age","getFullYear","monthDiff","getMonth","getDate","evalContext","params","keys","values","Function","concat","func","error","console","updateDerivedFields","newValues","hasChanges","forEach","field","derived","parentFields","hasAllParents","parentId","parentField","find","f","id","label","toLowerCase","replace","computedValue","updateField","updated","prev","map","handlePreviewChange","fieldId","value","p","variant","gutterBottom","display","gap","alignItems","mb","onChange","e","target","onClick","type","validation","required","options","undefined","includes","length","flex","index","_field$defaultValue","_field$options4","currentFieldId","width","justifyContent","deleteField","filter","fullWidth","margin","defaultValue","control","checked","minLength","Number","size","sx","mr","maxLength","email","password","trim","_field$parentFields","current","helperText","severity","mt","join","option","optIdx","_field$options5","newOptions","_","i","fontSize","Array","isArray","correctAnswers","ans","correctAnswer","_field$options6","elevation","_previewValues$field$","_field$options","_field$options2","_field$options3","disabled","color","multiline","rows","opt","currentValue","newValue","v","renderPreviewField","some","open","onClose","formSchema","name","createdAt","toISOString","localStorage","setItem","JSON","stringify","alert","FormHelperText","RadioGroup","components_PreviewForm","schema","setSchema","setValues","errors","setErrors","submitted","setSubmitted","result","setResult","formId","stored","getItem","parsed","parse","defaults","contextValues","val","currentValues","variableName","updatedValues","validateField","test","handleChange","err","component","flexDirection","onSubmit","preventDefault","newErrors","correct","feedback","fieldValue","userAnswers","every","log","_values$field$id","_errors$field$id","isDisabled","ListItemButton","ListItemText","components_MyForms","forms","setForms","history","loadedForms","key","startsWith","raw","data","Boolean","_ref","a","Fragment","encodeURIComponent","handleClick","primary","secondary","toLocaleString","src_App","path","from","to","exact","render","StrictMode","document","getElementById"],"sources":["static/js/main.b4192ea9.chunk.js"],"mappings":"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","ignoreList":[]},"input":"(this[\"webpackJsonpdynamic-form-builder\"] = this[\"webpackJsonpdynamic-form-builder\"] || []).push([[0],{\n\n/***/ 144:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(36);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(74);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(20);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 4 modules\nvar objectSpread2 = __webpack_require__(14);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/TextField/TextField.js + 7 modules\nvar TextField = __webpack_require__(213);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/Box/Box.js + 2 modules\nvar Box = __webpack_require__(225);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/Typography/Typography.js + 1 modules\nvar Typography = __webpack_require__(67);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/Select/Select.js + 16 modules\nvar Select = __webpack_require__(212);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/MenuItem/MenuItem.js + 2 modules\nvar MenuItem = __webpack_require__(226);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/FormControlLabel/FormControlLabel.js + 7 modules\nvar FormControlLabel = __webpack_require__(214);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/Radio/Radio.js + 6 modules\nvar Radio = __webpack_require__(216);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/Checkbox/Checkbox.js + 4 modules\nvar Checkbox = __webpack_require__(219);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/Button/Button.js + 3 modules\nvar Button = __webpack_require__(221);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/List/List.js + 1 modules\nvar List = __webpack_require__(230);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/ListItem/ListItem.js + 3 modules\nvar ListItem = __webpack_require__(222);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/IconButton/IconButton.js + 1 modules\nvar IconButton = __webpack_require__(232);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/Alert/Alert.js + 7 modules\nvar Alert = __webpack_require__(215);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/Divider/Divider.js\nvar Divider = __webpack_require__(208);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/Paper/Paper.js + 2 modules\nvar Paper = __webpack_require__(224);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/Dialog/Dialog.js + 1 modules\nvar Dialog = __webpack_require__(233);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/DialogTitle/DialogTitle.js\nvar DialogTitle = __webpack_require__(209);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/DialogContent/DialogContent.js + 1 modules\nvar DialogContent = __webpack_require__(234);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/DialogActions/DialogActions.js + 1 modules\nvar DialogActions = __webpack_require__(235);\n\n// EXTERNAL MODULE: ./node_modules/uuid/dist/esm-browser/v4.js + 4 modules\nvar v4 = __webpack_require__(218);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/SvgIcon/SvgIcon.js + 1 modules\nvar SvgIcon = __webpack_require__(113);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(2);\n\n// CONCATENATED MODULE: ./src/components/CreateForm.tsx\nconst DeleteIcon=props=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SvgIcon[\"a\" /* default */],Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},props),{},{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"path\",{d:\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"})}));const CreateForm=()=>{const[fields,setFields]=Object(react[\"useState\"])([]);const[newField,setNewField]=Object(react[\"useState\"])('text');const[formName,setFormName]=Object(react[\"useState\"])('');const[openDialog,setOpenDialog]=Object(react[\"useState\"])(false);const[showPreview,setShowPreview]=Object(react[\"useState\"])(false);const[previewValues,setPreviewValues]=Object(react[\"useState\"])({});const evalFormula=Object(react[\"useCallback\"])((formula,context)=>{try{const safeContext=Object(objectSpread2[\"a\" /* default */])({},context);const helpers={Date:Date,Math:Math,parseInt:parseInt,parseFloat:parseFloat,calculateAge:birthDate=>{if(!birthDate)return 0;const today=new Date();const birth=new Date(birthDate);if(isNaN(birth.getTime()))return 0;let age=today.getFullYear()-birth.getFullYear();const monthDiff=today.getMonth()-birth.getMonth();if(monthDiff<0||monthDiff===0&&today.getDate()<birth.getDate()){age--;}return age;}};const evalContext=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},safeContext),helpers);const params=Object.keys(evalContext);const values=Object.values(evalContext);const func=new Function(...params,\"\\\"use strict\\\"; return (\".concat(formula,\");\"));return func(...values);}catch(error){console.error('Formula evaluation error:',error,'Formula:',formula,'Context:',context);return'Error';}},[]);const updateDerivedFields=Object(react[\"useCallback\"])(values=>{const newValues=Object(objectSpread2[\"a\" /* default */])({},values);let hasChanges=false;fields.forEach(field=>{if(field.derived&&field.parentFields&&field.formula){const context={};let hasAllParents=true;field.parentFields.forEach(parentId=>{const parentField=fields.find(f=>f.id===parentId);if(parentField&&parentId in values){context[parentField.label.toLowerCase().replace(/\\s+/g,'_')]=values[parentId];}else{hasAllParents=false;}});if(hasAllParents){const computedValue=evalFormula(field.formula,context);if(newValues[field.id]!==computedValue){newValues[field.id]=computedValue;hasChanges=true;}}}});if(hasChanges){setPreviewValues(newValues);}},[fields,evalFormula]);const addField=()=>{const id=Object(v4[\"a\" /* default */])();const field={id,type:newField,label:'',validation:{required:false},options:newField==='select'?[]:undefined};if(['select','radio','checkbox'].includes(newField)){field.options=['Option 1','Option 2'];}setFields(prev=>[...prev,field]);};const updateField=(id,updated)=>{setFields(prev=>prev.map(field=>field.id===id?Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},field),updated):field));};const deleteField=id=>{setFields(prev=>prev.filter(field=>field.id!==id));setPreviewValues(prev=>{const newValues=Object(objectSpread2[\"a\" /* default */])({},prev);delete newValues[id];return newValues;});};const saveForm=()=>{const formSchema={name:formName,fields,createdAt:new Date().toISOString()};localStorage.setItem(\"form_\".concat(formName),JSON.stringify(formSchema));setOpenDialog(false);alert('Form saved successfully!');setFields([]);setFormName('');setPreviewValues({});};const handlePreviewChange=(fieldId,value)=>{const newValues=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},previewValues),{},{[fieldId]:value});setPreviewValues(newValues);updateDerivedFields(newValues);};const getAvailableParentFields=currentFieldId=>{return fields.filter(f=>f.id!==currentFieldId&&!f.derived&&f.label.trim()!=='');};const renderPreviewField=field=>{var _previewValues$field$,_field$options,_field$options2,_field$options3;const value=(_previewValues$field$=previewValues[field.id])!==null&&_previewValues$field$!==void 0?_previewValues$field$:field.type==='checkbox'?[]:'';if(field.derived){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{fullWidth:true,label:\"\".concat(field.label,\" (Auto-calculated)\"),value:value,disabled:true,margin:\"normal\",sx:{'& .MuiInputBase-input':{color:'text.secondary'}}},field.id);}switch(field.type){case'text':case'number':case'date':return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{type:field.type,fullWidth:true,label:field.label,value:value,onChange:e=>handlePreviewChange(field.id,e.target.value),margin:\"normal\"},field.id);case'textarea':return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{fullWidth:true,label:field.label,value:value,onChange:e=>handlePreviewChange(field.id,e.target.value),multiline:true,rows:3,margin:\"normal\"},field.id);case'select':return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Box[\"a\" /* default */],{mb:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{children:field.label}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Select[\"a\" /* default */],{fullWidth:true,value:value,onChange:e=>handlePreviewChange(field.id,e.target.value),children:(_field$options=field.options)===null||_field$options===void 0?void 0:_field$options.map((opt,i)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MenuItem[\"a\" /* default */],{value:opt,children:opt},i))})]},field.id);case'radio':return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Box[\"a\" /* default */],{mb:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{children:field.label}),(_field$options2=field.options)===null||_field$options2===void 0?void 0:_field$options2.map((opt,i)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FormControlLabel[\"a\" /* default */],{value:opt,control:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Radio[\"a\" /* default */],{checked:value===opt,onChange:()=>handlePreviewChange(field.id,opt)}),label:opt},i))]},field.id);case'checkbox':return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Box[\"a\" /* default */],{mb:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{children:field.label}),(_field$options3=field.options)===null||_field$options3===void 0?void 0:_field$options3.map((opt,i)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FormControlLabel[\"a\" /* default */],{control:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Checkbox[\"a\" /* default */],{checked:Array.isArray(value)&&value.includes(opt),onChange:e=>{const currentValue=Array.isArray(value)?value:[];const newValue=e.target.checked?[...currentValue,opt]:currentValue.filter(v=>v!==opt);handlePreviewChange(field.id,newValue);}}),label:opt},i))]},field.id);default:return null;}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Box[\"a\" /* default */],{p:3,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"h4\",gutterBottom:true,children:\"Create Dynamic Form\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Box[\"a\" /* default */],{display:\"flex\",gap:2,alignItems:\"center\",mb:3,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Select[\"a\" /* default */],{value:newField,onChange:e=>setNewField(e.target.value),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MenuItem[\"a\" /* default */],{value:\"text\",children:\"Text\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MenuItem[\"a\" /* default */],{value:\"number\",children:\"Number\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MenuItem[\"a\" /* default */],{value:\"textarea\",children:\"Textarea\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MenuItem[\"a\" /* default */],{value:\"select\",children:\"Select\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MenuItem[\"a\" /* default */],{value:\"radio\",children:\"Radio\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MenuItem[\"a\" /* default */],{value:\"checkbox\",children:\"Checkbox\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MenuItem[\"a\" /* default */],{value:\"date\",children:\"Date\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"contained\",onClick:addField,children:\"Add Field\"}),fields.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"outlined\",onClick:()=>setShowPreview(!showPreview),children:showPreview?'Hide Preview':'Show Preview'})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Box[\"a\" /* default */],{display:\"flex\",gap:3,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Box[\"a\" /* default */],{flex:showPreview?1:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"h6\",gutterBottom:true,children:\"Form Builder\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(List[\"a\" /* default */],{children:fields.map((field,index)=>{var _field$defaultValue,_field$options4;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Box[\"a\" /* default */],{mb:3,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ListItem[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Box[\"a\" /* default */],{width:\"100%\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Box[\"a\" /* default */],{display:\"flex\",alignItems:\"center\",justifyContent:\"space-between\",mb:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Typography[\"a\" /* default */],{variant:\"h6\",children:[\"Field #\",index+1,\" - \",field.type]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{onClick:()=>deleteField(field.id),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DeleteIcon,{})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{fullWidth:true,label:\"Label\",value:field.label,onChange:e=>updateField(field.id,{label:e.target.value}),margin:\"normal\"}),!field.derived&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{fullWidth:true,label:\"Default Value\",value:(_field$defaultValue=field.defaultValue)!==null&&_field$defaultValue!==void 0?_field$defaultValue:'',onChange:e=>updateField(field.id,{defaultValue:e.target.value}),margin:\"normal\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FormControlLabel[\"a\" /* default */],{control:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Checkbox[\"a\" /* default */],{checked:field.validation.required,onChange:e=>updateField(field.id,{validation:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},field.validation),{},{required:e.target.checked})})}),label:\"Required\"}),field.type==='text'||field.type==='textarea'?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Box[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{type:\"number\",label:\"Min Length\",value:field.validation.minLength||'',onChange:e=>updateField(field.id,{validation:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},field.validation),{},{minLength:Number(e.target.value)})}),margin:\"normal\",size:\"small\",sx:{mr:2}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{type:\"number\",label:\"Max Length\",value:field.validation.maxLength||'',onChange:e=>updateField(field.id,{validation:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},field.validation),{},{maxLength:Number(e.target.value)})}),margin:\"normal\",size:\"small\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Box[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FormControlLabel[\"a\" /* default */],{control:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Checkbox[\"a\" /* default */],{checked:field.validation.email||false,onChange:e=>updateField(field.id,{validation:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},field.validation),{},{email:e.target.checked})})}),label:\"Email Format\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FormControlLabel[\"a\" /* default */],{control:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Checkbox[\"a\" /* default */],{checked:field.validation.password||false,onChange:e=>updateField(field.id,{validation:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},field.validation),{},{password:e.target.checked})})}),label:\"Password Rule\"})]})]}):null,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FormControlLabel[\"a\" /* default */],{control:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Checkbox[\"a\" /* default */],{checked:field.derived||false,onChange:e=>updateField(field.id,{derived:e.target.checked})}),label:\"Is Derived Field?\"}),field.derived&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Box[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"subtitle2\",gutterBottom:true,children:\"Parent Fields:\"}),getAvailableParentFields(field.id).map(parentField=>{var _field$parentFields;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FormControlLabel[\"a\" /* default */],{control:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Checkbox[\"a\" /* default */],{checked:((_field$parentFields=field.parentFields)===null||_field$parentFields===void 0?void 0:_field$parentFields.includes(parentField.id))||false,onChange:e=>{const current=field.parentFields||[];const updated=e.target.checked?[...current,parentField.id]:current.filter(id=>id!==parentField.id);updateField(field.id,{parentFields:updated});}}),label:\"\".concat(parentField.label,\" (\").concat(parentField.type,\")\")},parentField.id);}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{fullWidth:true,label:\"Formula / Logic\",value:field.formula||'',onChange:e=>updateField(field.id,{formula:e.target.value}),margin:\"normal\",helperText:\"Use field labels in lowercase with underscores (e.g., calculateAge(date_of_birth))\"}),field.parentFields&&field.parentFields.length>0&&field.formula&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Alert[\"a\" /* default */],{severity:\"info\",sx:{mt:1},children:[\"Available variables: \",field.parentFields.map(id=>{const parentField=fields.find(f=>f.id===id);return parentField===null||parentField===void 0?void 0:parentField.label.toLowerCase().replace(/\\s+/g,'_');}).join(', ')]})]}),(field.type==='select'||field.type==='radio'||field.type==='checkbox')&&!field.derived&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Box[\"a\" /* default */],{mb:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"subtitle1\",children:\"Options\"}),(_field$options4=field.options)===null||_field$options4===void 0?void 0:_field$options4.map((option,optIdx)=>/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Box[\"a\" /* default */],{display:\"flex\",alignItems:\"center\",mb:1,gap:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{label:\"Option \".concat(optIdx+1),value:option,onChange:e=>{var _field$options5;const newOptions=[...((_field$options5=field.options)!==null&&_field$options5!==void 0?_field$options5:[])];newOptions[optIdx]=e.target.value;updateField(field.id,{options:newOptions});},size:\"small\"}),field.options&&field.options.length>2&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{size:\"small\",onClick:()=>{const newOptions=field.options.filter((_,i)=>i!==optIdx);updateField(field.id,{options:newOptions});},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DeleteIcon,{fontSize:\"small\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FormControlLabel[\"a\" /* default */],{control:field.type==='checkbox'?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Checkbox[\"a\" /* default */],{checked:Array.isArray(field.validation['correctAnswers'])?field.validation['correctAnswers'].includes(option):false,onChange:e=>{let correctAnswers=Array.isArray(field.validation['correctAnswers'])?[...field.validation['correctAnswers']]:[];if(e.target.checked){correctAnswers.push(option);}else{correctAnswers=correctAnswers.filter(ans=>ans!==option);}updateField(field.id,{validation:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},field.validation),{},{correctAnswers})});}}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Radio[\"a\" /* default */],{checked:field.validation['correctAnswer']===option,onChange:()=>updateField(field.id,{validation:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},field.validation),{},{correctAnswer:option})})}),label:\"Correct\"})]},optIdx)),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"outlined\",size:\"small\",onClick:()=>{var _field$options6;const newOptions=[...((_field$options6=field.options)!==null&&_field$options6!==void 0?_field$options6:[]),\"Option \".concat(field.options.length+1)];updateField(field.id,{options:newOptions});},children:\"Add Option\"})]})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Divider[\"a\" /* default */],{})]},field.id);})})]}),showPreview&&fields.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Box[\"a\" /* default */],{flex:1,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Paper[\"a\" /* default */],{elevation:2,sx:{p:3},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"h6\",gutterBottom:true,children:\"Live Preview\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Box[\"a\" /* default */],{children:[fields.map(field=>field.label?renderPreviewField(field):null),fields.some(f=>f.derived)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Alert[\"a\" /* default */],{severity:\"info\",sx:{mt:2},children:\"Derived fields will auto-update as you change parent fields above.\"})]})]})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Box[\"a\" /* default */],{mt:3,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"contained\",color:\"primary\",onClick:()=>setOpenDialog(true),disabled:fields.length===0,children:\"Save Form\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Dialog[\"a\" /* default */],{open:openDialog,onClose:()=>setOpenDialog(false),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DialogTitle[\"a\" /* default */],{children:\"Save Form\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DialogContent[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{fullWidth:true,label:\"Form Name\",value:formName,onChange:e=>setFormName(e.target.value),margin:\"normal\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(DialogActions[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:()=>setOpenDialog(false),children:\"Cancel\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:saveForm,variant:\"contained\",color:\"primary\",disabled:!formName,children:\"Save\"})]})]})]});};/* harmony default export */ var components_CreateForm = (CreateForm);\n// EXTERNAL MODULE: ./node_modules/@mui/material/FormHelperText/FormHelperText.js + 1 modules\nvar FormHelperText = __webpack_require__(231);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/RadioGroup/RadioGroup.js + 4 modules\nvar RadioGroup = __webpack_require__(220);\n\n// CONCATENATED MODULE: ./src/components/PreviewForm.tsx\nconst PreviewForm=()=>{const[schema,setSchema]=Object(react[\"useState\"])(null);const[values,setValues]=Object(react[\"useState\"])({});const[errors,setErrors]=Object(react[\"useState\"])({});const[submitted,setSubmitted]=Object(react[\"useState\"])(false);const[result,setResult]=Object(react[\"useState\"])(null);const{formId}=Object(react_router[\"h\" /* useParams */])();Object(react[\"useEffect\"])(()=>{if(!formId)return;const stored=localStorage.getItem(formId);if(stored){const parsed=JSON.parse(stored);setSchema(parsed);const defaults={};parsed.fields.forEach(f=>{if(!f.derived){defaults[f.id]=f.defaultValue||(f.type==='checkbox'?[]:'');}});setValues(defaults);}},[formId]);const evalFormula=Object(react[\"useCallback\"])((formula,context)=>{try{let contextValues=Object.values(context);if(contextValues.some(val=>val===''||val===undefined||val===null)){return'';}const safeContext=Object(objectSpread2[\"a\" /* default */])({},context);const helpers={Date:Date,Math:Math,parseInt:parseInt,parseFloat:parseFloat,calculateAge:birthDate=>{if(!birthDate)return 0;const today=new Date();const birth=new Date(birthDate);if(isNaN(birth.getTime()))return 0;let age=today.getFullYear()-birth.getFullYear();const monthDiff=today.getMonth()-birth.getMonth();if(monthDiff<0||monthDiff===0&&today.getDate()<birth.getDate()){age--;}return age;}};const evalContext=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},safeContext),helpers);const params=Object.keys(evalContext);contextValues=Object.values(evalContext);const func=new Function(...params,\"\\\"use strict\\\"; return (\".concat(formula,\");\"));return func(...contextValues);}catch(error){console.error('Formula evaluation error:',error,'Formula:',formula,'Context:',context);return'Error';}},[]);const updateDerivedFields=Object(react[\"useCallback\"])(currentValues=>{if(!schema)return currentValues;const newValues=Object(objectSpread2[\"a\" /* default */])({},currentValues);let hasChanges=false;schema.fields.forEach(field=>{if(field.derived&&field.parentFields&&field.formula){const context={};let hasAllParents=true;field.parentFields.forEach(parentId=>{const parentField=schema.fields.find(f=>f.id===parentId);if(parentField&&parentId in currentValues){const variableName=parentField.label.toLowerCase().replace(/\\s+/g,'_');context[variableName]=currentValues[parentId];}else{hasAllParents=false;}});if(hasAllParents){const computedValue=evalFormula(field.formula,context);if(newValues[field.id]!==computedValue){newValues[field.id]=computedValue;hasChanges=true;}}else{if(field.id in newValues){delete newValues[field.id];hasChanges=true;}}}});return hasChanges?newValues:currentValues;},[schema,evalFormula]);Object(react[\"useEffect\"])(()=>{if(!schema||Object.keys(values).length===0)return;const updatedValues=updateDerivedFields(values);if(updatedValues!==values){setValues(updatedValues);}},[schema,values,updateDerivedFields]);const validateField=Object(react[\"useCallback\"])((field,value)=>{const{validation}=field;if(validation.required&&(!value||Array.isArray(value)&&value.length===0)){return'This field is required.';}if(typeof value==='string'){if(validation.minLength&&value.length<validation.minLength){return\"Minimum length is \".concat(validation.minLength);}if(validation.maxLength&&value.length>validation.maxLength){return\"Maximum length is \".concat(validation.maxLength);}if(validation.email&&value&&!/^\\S+@\\S+\\.\\S+$/.test(value)){return'Invalid email format.';}if(validation.password&&value&&(!/^.{8,}$/.test(value)||!/\\d/.test(value))){return'Password must be at least 8 characters and contain a number.';}}return'';},[]);const handleChange=Object(react[\"useCallback\"])((id,value)=>{const newValues=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},values),{},{[id]:value});const updatedValues=updateDerivedFields(newValues);setValues(updatedValues);const field=schema===null||schema===void 0?void 0:schema.fields.find(f=>f.id===id);if(field&&!field.derived){const err=validateField(field,value);setErrors(prev=>Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},prev),{},{[id]:err}));}},[values,updateDerivedFields,schema,validateField]);const handleSubmit=e=>{e.preventDefault();setSubmitted(true);const newErrors={};schema===null||schema===void 0?void 0:schema.fields.forEach(field=>{if(!field.derived){const err=validateField(field,values[field.id]);if(err)newErrors[field.id]=err;}});setErrors(newErrors);let correct=true;let feedback='';schema===null||schema===void 0?void 0:schema.fields.forEach(field=>{const fieldValue=values[field.id];if((field.type==='radio'||field.type==='select')&&field.validation.correctAnswer){if(fieldValue!==field.validation.correctAnswer){correct=false;feedback+=\"\".concat(field.label,\": Incorrect answer.\\n\");}}if(field.type==='checkbox'&&Array.isArray(field.validation.correctAnswers)){const userAnswers=Array.isArray(fieldValue)?fieldValue:[];const correctAnswers=field.validation.correctAnswers;if(userAnswers.length!==correctAnswers.length||!correctAnswers.every(ans=>userAnswers.includes(ans))){correct=false;feedback+=\"\".concat(field.label,\": Incorrect answer.\\n\");}}});setResult(correct?'All answers are correct!':feedback||'Some answers are incorrect.');if(Object.keys(newErrors).length===0){console.log('Form Values:',values);alert('Form submitted successfully (check console for values)!');}};if(!schema){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{children:\"Loading form...\"});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Box[\"a\" /* default */],{p:4,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Typography[\"a\" /* default */],{variant:\"h4\",gutterBottom:true,children:[\"Preview: \",schema.name]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Box[\"a\" /* default */],{component:\"form\",display:\"flex\",flexDirection:\"column\",gap:3,onSubmit:handleSubmit,children:[schema.fields.map(field=>{var _values$field$id,_errors$field$id,_field$options,_field$options2,_field$options3;const value=(_values$field$id=values[field.id])!==null&&_values$field$id!==void 0?_values$field$id:field.type==='checkbox'?[]:'';const error=(_errors$field$id=errors[field.id])!==null&&_errors$field$id!==void 0?_errors$field$id:'';const isDisabled=field.derived||false;switch(field.type){case'text':case'number':case'date':return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{type:field.type,label:\"\".concat(field.label).concat(isDisabled?' (Auto-calculated)':''),value:value,onChange:e=>handleChange(field.id,e.target.value),error:!!error,helperText:error||(isDisabled?'This field is automatically calculated':''),disabled:isDisabled,sx:isDisabled?{'& .MuiInputBase-input':{color:'text.secondary'}}:{}},field.id);case'textarea':return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{label:\"\".concat(field.label).concat(isDisabled?' (Auto-calculated)':''),value:value,onChange:e=>handleChange(field.id,e.target.value),error:!!error,helperText:error||(isDisabled?'This field is automatically calculated':''),multiline:true,rows:3,disabled:isDisabled,sx:isDisabled?{'& .MuiInputBase-input':{color:'text.secondary'}}:{}},field.id);case'select':return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Box[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Typography[\"a\" /* default */],{children:[field.label,isDisabled?' (Auto-calculated)':'']}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Select[\"a\" /* default */],{fullWidth:true,value:value,onChange:e=>handleChange(field.id,e.target.value),disabled:isDisabled,sx:isDisabled?{color:'text.secondary'}:{},children:(_field$options=field.options)===null||_field$options===void 0?void 0:_field$options.map((opt,i)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MenuItem[\"a\" /* default */],{value:opt,children:opt},i))}),error&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FormHelperText[\"a\" /* default */],{error:true,children:error}),isDisabled&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FormHelperText[\"a\" /* default */],{children:\"This field is automatically calculated\"})]},field.id);case'radio':return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Box[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Typography[\"a\" /* default */],{children:[field.label,isDisabled?' (Auto-calculated)':'']}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RadioGroup[\"a\" /* default */],{value:value,onChange:e=>handleChange(field.id,e.target.value),children:(_field$options2=field.options)===null||_field$options2===void 0?void 0:_field$options2.map((opt,i)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FormControlLabel[\"a\" /* default */],{value:opt,control:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Radio[\"a\" /* default */],{disabled:isDisabled}),label:opt,sx:isDisabled?{color:'text.secondary'}:{}},i))}),error&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FormHelperText[\"a\" /* default */],{error:true,children:error}),isDisabled&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FormHelperText[\"a\" /* default */],{children:\"This field is automatically calculated\"})]},field.id);case'checkbox':return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Box[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Typography[\"a\" /* default */],{children:[field.label,isDisabled?' (Auto-calculated)':'']}),(_field$options3=field.options)===null||_field$options3===void 0?void 0:_field$options3.map((opt,i)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FormControlLabel[\"a\" /* default */],{control:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Checkbox[\"a\" /* default */],{checked:Array.isArray(value)&&value.includes(opt),onChange:e=>{if(!isDisabled){const checked=e.target.checked;const currentValue=Array.isArray(value)?value:[];const newValue=checked?[...currentValue,opt]:currentValue.filter(v=>v!==opt);handleChange(field.id,newValue);}},disabled:isDisabled}),label:opt,sx:isDisabled?{color:'text.secondary'}:{}},i)),error&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FormHelperText[\"a\" /* default */],{error:true,children:error}),isDisabled&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FormHelperText[\"a\" /* default */],{children:\"This field is automatically calculated\"})]},field.id);default:return null;}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"contained\",type:\"submit\",size:\"large\",children:\"Submit\"})]}),submitted&&result&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Box[\"a\" /* default */],{mt:2,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Alert[\"a\" /* default */],{severity:result==='All answers are correct!'?'success':'error',children:result})})]});};/* harmony default export */ var components_PreviewForm = (PreviewForm);\n// EXTERNAL MODULE: ./node_modules/@mui/material/ListItemButton/ListItemButton.js\nvar ListItemButton = __webpack_require__(210);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/ListItemText/ListItemText.js\nvar ListItemText = __webpack_require__(211);\n\n// CONCATENATED MODULE: ./src/components/MyForms.tsx\nconst MyForms=()=>{const[forms,setForms]=Object(react[\"useState\"])([]);const history=Object(react_router[\"g\" /* useHistory */])();Object(react[\"useEffect\"])(()=>{const formKeys=Object.keys(localStorage).filter(key=>key.startsWith('form_'));const loadedForms=formKeys.map(key=>{const raw=localStorage.getItem(key);if(!raw)return null;try{const data=JSON.parse(raw);return{key,data};}catch(e){console.error(\"Error parsing form \".concat(key,\":\"),e);return null;}}).filter(Boolean);setForms(loadedForms);},[]);const handleClick=key=>{history.push(\"/preview-form/\".concat(encodeURIComponent(key)));};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Box[\"a\" /* default */],{p:4,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"h4\",gutterBottom:true,children:\"Saved Forms\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(List[\"a\" /* default */],{children:[forms.map(_ref=>{let{key,data}=_ref;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_default.a.Fragment,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ListItemButton[\"a\" /* default */],{onClick:()=>handleClick(key),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ListItemText[\"a\" /* default */],{primary:data.name,secondary:\"Created: \".concat(new Date(data.createdAt).toLocaleString())})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Divider[\"a\" /* default */],{})]},key);}),forms.length===0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{children:\"No saved forms found.\"})]})]});};/* harmony default export */ var components_MyForms = (MyForms);\n// CONCATENATED MODULE: ./src/App.tsx\nconst App=()=>{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"d\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/create-form\",component:components_CreateForm}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/preview-form/:formId\",component:components_PreviewForm}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/my-forms\",component:components_MyForms}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{from:\"/\",to:\"/create-form\",exact:true})]})});};/* harmony default export */ var src_App = (App);\n// CONCATENATED MODULE: ./src/index.tsx\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));\n\n/***/ })\n\n},[[144,1,2]]]);","inputSourceMap":{"version":3,"sources":["C:/Users/ishik/VS code/Form/dynamic-form-builder/src/components/CreateForm.tsx","C:/Users/ishik/VS code/Form/dynamic-form-builder/src/components/PreviewForm.tsx","C:/Users/ishik/VS code/Form/dynamic-form-builder/src/components/MyForms.tsx","C:/Users/ishik/VS code/Form/dynamic-form-builder/src/App.tsx","C:/Users/ishik/VS code/Form/dynamic-form-builder/src/index.tsx"],"names":["DeleteIcon","props","_jsx","SvgIcon","_objectSpread","children","d","CreateForm","fields","setFields","useState","newField","setNewField","formName","setFormName","openDialog","setOpenDialog","showPreview","setShowPreview","previewValues","setPreviewValues","evalFormula","useCallback","formula","context","safeContext","helpers","Date","Math","parseInt","parseFloat","calculateAge","birthDate","today","birth","isNaN","getTime","age","getFullYear","monthDiff","getMonth","getDate","evalContext","params","Object","keys","values","func","Function","concat","error","console","updateDerivedFields","newValues","hasChanges","forEach","field","derived","parentFields","hasAllParents","parentId","parentField","find","f","id","label","toLowerCase","replace","computedValue","addField","uuidv4","type","validation","required","options","undefined","includes","prev","updateField","updated","map","deleteField","filter","saveForm","formSchema","name","createdAt","toISOString","localStorage","setItem","JSON","stringify","alert","handlePreviewChange","fieldId","value","getAvailableParentFields","currentFieldId","trim","renderPreviewField","_previewValues$field$","_field$options","_field$options2","_field$options3","TextField","fullWidth","disabled","margin","sx","color","onChange","e","target","multiline","rows","_jsxs","Box","mb","Typography","Select","opt","i","MenuItem","FormControlLabel","control","Radio","checked","Checkbox","Array","isArray","currentValue","newValue","v","p","variant","gutterBottom","display","gap","alignItems","Button","onClick","length","flex","List","index","_field$defaultValue","_field$options4","ListItem","width","justifyContent","IconButton","defaultValue","minLength","Number","size","mr","maxLength","email","password","_field$parentFields","current","helperText","Alert","severity","mt","join","option","optIdx","_field$options5","newOptions","_","fontSize","correctAnswers","push","ans","correctAnswer","_field$options6","Divider","Paper","elevation","some","Dialog","open","onClose","DialogTitle","DialogContent","DialogActions","PreviewForm","schema","setSchema","setValues","errors","setErrors","submitted","setSubmitted","result","setResult","formId","useParams","useEffect","stored","getItem","parsed","parse","defaults","contextValues","val","currentValues","variableName","updatedValues","validateField","test","handleChange","err","handleSubmit","preventDefault","newErrors","correct","feedback","fieldValue","userAnswers","every","log","component","flexDirection","onSubmit","_values$field$id","_errors$field$id","isDisabled","FormHelperText","RadioGroup","MyForms","forms","setForms","history","useHistory","formKeys","key","startsWith","loadedForms","raw","data","Boolean","handleClick","encodeURIComponent","_ref","React","Fragment","ListItemButton","ListItemText","primary","secondary","toLocaleString","App","Router","Switch","Route","path","Redirect","from","to","exact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["import React, { useState, useCallback } from 'react';\r\nimport { Box, Button, MenuItem, Select, TextField, Typography, Checkbox, FormControlLabel, Dialog, DialogTitle, DialogContent, DialogActions, List, ListItem, IconButton, Divider, Radio, Paper, Alert } from '@mui/material';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport { SvgIcon } from '@mui/material';\r\n\r\nconst DeleteIcon = (props: any) => (\r\n    <SvgIcon {...props}>\r\n        <path d=\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\" />\r\n    </SvgIcon>\r\n);\r\n\r\ntype FieldType = 'text' | 'number' | 'textarea' | 'select' | 'radio' | 'checkbox' | 'date';\r\n\r\ninterface Validation {\r\n    required: boolean;\r\n    minLength?: number;\r\n    maxLength?: number;\r\n    email?: boolean;\r\n    password?: boolean;\r\n    correctAnswers?: string[];\r\n    correctAnswer?: string;\r\n}\r\n\r\ninterface Field {\r\n    id: string;\r\n    type: FieldType;\r\n    label: string;\r\n    defaultValue?: string;\r\n    options?: string[];\r\n    validation: Validation;\r\n    derived?: boolean;\r\n    parentFields?: string[];\r\n    formula?: string;\r\n}\r\n\r\nconst CreateForm: React.FC = () => {\r\n    const [fields, setFields] = useState<Field[]>([]);\r\n    const [newField, setNewField] = useState<FieldType>('text');\r\n    const [formName, setFormName] = useState('');\r\n    const [openDialog, setOpenDialog] = useState(false);\r\n    const [showPreview, setShowPreview] = useState(false);\r\n    const [previewValues, setPreviewValues] = useState<Record<string, any>>({});\r\n    const evalFormula = useCallback((formula: string, context: Record<string, any>) => {\r\n        try {\r\n            const safeContext = { ...context };\r\n\r\n            const helpers = {\r\n                Date: Date,\r\n                Math: Math,\r\n                parseInt: parseInt,\r\n                parseFloat: parseFloat,\r\n                calculateAge: (birthDate: string) => {\r\n                    if (!birthDate) return 0;\r\n                    const today = new Date();\r\n                    const birth = new Date(birthDate);\r\n                    if (isNaN(birth.getTime())) return 0;\r\n\r\n                    let age = today.getFullYear() - birth.getFullYear();\r\n                    const monthDiff = today.getMonth() - birth.getMonth();\r\n\r\n                    if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birth.getDate())) {\r\n                        age--;\r\n                    }\r\n                    return age;\r\n                }\r\n            };\r\n\r\n            const evalContext = { ...safeContext, ...helpers };\r\n\r\n            const params = Object.keys(evalContext);\r\n            const values = Object.values(evalContext);\r\n\r\n            const func = new Function(...params, `\"use strict\"; return (${formula});`);\r\n            return func(...values);\r\n        } catch (error) {\r\n            console.error('Formula evaluation error:', error, 'Formula:', formula, 'Context:', context);\r\n            return 'Error';\r\n        }\r\n    }, []);\r\n\r\n    const updateDerivedFields = useCallback((values: Record<string, any>) => {\r\n        const newValues = { ...values };\r\n        let hasChanges = false;\r\n\r\n        fields.forEach(field => {\r\n            if (field.derived && field.parentFields && field.formula) {\r\n                const context: Record<string, any> = {};\r\n                let hasAllParents = true;\r\n\r\n                field.parentFields.forEach(parentId => {\r\n                    const parentField = fields.find(f => f.id === parentId);\r\n                    if (parentField && parentId in values) {\r\n                        context[parentField.label.toLowerCase().replace(/\\s+/g, '_')] = values[parentId];\r\n                    } else {\r\n                        hasAllParents = false;\r\n                    }\r\n                });\r\n\r\n                if (hasAllParents) {\r\n                    const computedValue = evalFormula(field.formula, context);\r\n\r\n                    if (newValues[field.id] !== computedValue) {\r\n                        newValues[field.id] = computedValue;\r\n                        hasChanges = true;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        if (hasChanges) {\r\n            setPreviewValues(newValues);\r\n        }\r\n    }, [fields, evalFormula]);\r\n\r\n    const addField = () => {\r\n        const id = uuidv4();\r\n        const field: Field = {\r\n            id,\r\n            type: newField,\r\n            label: '',\r\n            validation: { required: false },\r\n            options: newField === 'select' ? [] : undefined,\r\n        };\r\n\r\n        if (['select', 'radio', 'checkbox'].includes(newField)) {\r\n            field.options = ['Option 1', 'Option 2'];\r\n        }\r\n\r\n        setFields((prev) => [...prev, field]);\r\n    }\r\n\r\n    const updateField = (id: string, updated: Partial<Field>) => {\r\n        setFields((prev) =>\r\n            prev.map((field) => (field.id === id ? { ...field, ...updated } : field))\r\n        );\r\n    };\r\n\r\n    const deleteField = (id: string) => {\r\n        setFields((prev) => prev.filter((field) => field.id !== id));\r\n        setPreviewValues(prev => {\r\n            const newValues = { ...prev };\r\n            delete newValues[id];\r\n            return newValues;\r\n        });\r\n    };\r\n\r\n    const saveForm = () => {\r\n        const formSchema = {\r\n            name: formName,\r\n            fields,\r\n            createdAt: new Date().toISOString(),\r\n        };\r\n\r\n        localStorage.setItem(`form_${formName}`, JSON.stringify(formSchema));\r\n        setOpenDialog(false);\r\n        alert('Form saved successfully!');\r\n        setFields([]);\r\n        setFormName('');\r\n        setPreviewValues({});\r\n    };\r\n\r\n    const handlePreviewChange = (fieldId: string, value: any) => {\r\n        const newValues = { ...previewValues, [fieldId]: value };\r\n        setPreviewValues(newValues);\r\n        updateDerivedFields(newValues);\r\n    };\r\n\r\n    const getAvailableParentFields = (currentFieldId: string) => {\r\n        return fields.filter(f => f.id !== currentFieldId && !f.derived && f.label.trim() !== '');\r\n    };\r\n\r\n    const renderPreviewField = (field: Field) => {\r\n        const value = previewValues[field.id] ?? (field.type === 'checkbox' ? [] : '');\r\n\r\n        if (field.derived) {\r\n            return (\r\n                <TextField\r\n                    key={field.id}\r\n                    fullWidth\r\n                    label={`${field.label} (Auto-calculated)`}\r\n                    value={value}\r\n                    disabled\r\n                    margin=\"normal\"\r\n                    sx={{ '& .MuiInputBase-input': { color: 'text.secondary' } }}\r\n                />\r\n            );\r\n        }\r\n\r\n        switch (field.type) {\r\n            case 'text':\r\n            case 'number':\r\n            case 'date':\r\n                return (\r\n                    <TextField\r\n                        key={field.id}\r\n                        type={field.type}\r\n                        fullWidth\r\n                        label={field.label}\r\n                        value={value}\r\n                        onChange={(e) => handlePreviewChange(field.id, e.target.value)}\r\n                        margin=\"normal\"\r\n                    />\r\n                );\r\n\r\n            case 'textarea':\r\n                return (\r\n                    <TextField\r\n                        key={field.id}\r\n                        fullWidth\r\n                        label={field.label}\r\n                        value={value}\r\n                        onChange={(e) => handlePreviewChange(field.id, e.target.value)}\r\n                        multiline\r\n                        rows={3}\r\n                        margin=\"normal\"\r\n                    />\r\n                );\r\n\r\n            case 'select':\r\n                return (\r\n                    <Box key={field.id} mb={2}>\r\n                        <Typography>{field.label}</Typography>\r\n                        <Select\r\n                            fullWidth\r\n                            value={value}\r\n                            onChange={(e) => handlePreviewChange(field.id, e.target.value)}\r\n                        >\r\n                            {field.options?.map((opt, i) => (\r\n                                <MenuItem key={i} value={opt}>\r\n                                    {opt}\r\n                                </MenuItem>\r\n                            ))}\r\n                        </Select>\r\n                    </Box>\r\n                );\r\n\r\n            case 'radio':\r\n                return (\r\n                    <Box key={field.id} mb={2}>\r\n                        <Typography>{field.label}</Typography>\r\n                        {field.options?.map((opt, i) => (\r\n                            <FormControlLabel\r\n                                key={i}\r\n                                value={opt}\r\n                                control={\r\n                                    <Radio\r\n                                        checked={value === opt}\r\n                                        onChange={() => handlePreviewChange(field.id, opt)}\r\n                                    />\r\n                                }\r\n                                label={opt}\r\n                            />\r\n                        ))}\r\n                    </Box>\r\n                );\r\n\r\n            case 'checkbox':\r\n                return (\r\n                    <Box key={field.id} mb={2}>\r\n                        <Typography>{field.label}</Typography>\r\n                        {field.options?.map((opt, i) => (\r\n                            <FormControlLabel\r\n                                key={i}\r\n                                control={\r\n                                    <Checkbox\r\n                                        checked={Array.isArray(value) && value.includes(opt)}\r\n                                        onChange={(e) => {\r\n                                            const currentValue = Array.isArray(value) ? value : [];\r\n                                            const newValue = e.target.checked\r\n                                                ? [...currentValue, opt]\r\n                                                : currentValue.filter(v => v !== opt);\r\n                                            handlePreviewChange(field.id, newValue);\r\n                                        }}\r\n                                    />\r\n                                }\r\n                                label={opt}\r\n                            />\r\n                        ))}\r\n                    </Box>\r\n                );\r\n\r\n            default:\r\n                return null;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Box p={3}>\r\n            <Typography variant=\"h4\" gutterBottom>Create Dynamic Form</Typography>\r\n\r\n            <Box display=\"flex\" gap={2} alignItems=\"center\" mb={3}>\r\n                <Select value={newField} onChange={(e) => setNewField(e.target.value as FieldType)}>\r\n                    <MenuItem value=\"text\">Text</MenuItem>\r\n                    <MenuItem value=\"number\">Number</MenuItem>\r\n                    <MenuItem value=\"textarea\">Textarea</MenuItem>\r\n                    <MenuItem value=\"select\">Select</MenuItem>\r\n                    <MenuItem value=\"radio\">Radio</MenuItem>\r\n                    <MenuItem value=\"checkbox\">Checkbox</MenuItem>\r\n                    <MenuItem value=\"date\">Date</MenuItem>\r\n                </Select>\r\n                <Button variant=\"contained\" onClick={addField}>\r\n                    Add Field\r\n                </Button>\r\n                {fields.length > 0 && (\r\n                    <Button\r\n                        variant=\"outlined\"\r\n                        onClick={() => setShowPreview(!showPreview)}\r\n                    >\r\n                        {showPreview ? 'Hide Preview' : 'Show Preview'}\r\n                    </Button>\r\n                )}\r\n            </Box>\r\n\r\n            <Box display=\"flex\" gap={3}>\r\n                <Box flex={showPreview ? 1 : 2}>\r\n                    <Typography variant=\"h6\" gutterBottom>Form Builder</Typography>\r\n                    <List>\r\n                        {fields.map((field, index) => (\r\n                            <Box key={field.id} mb={3}>\r\n                                <ListItem>\r\n                                    <Box width=\"100%\">\r\n                                        <Box display=\"flex\" alignItems=\"center\" justifyContent=\"space-between\" mb={1}>\r\n                                            <Typography variant=\"h6\">Field #{index + 1} - {field.type}</Typography>\r\n                                            <IconButton onClick={() => deleteField(field.id)}>\r\n                                                <DeleteIcon />\r\n                                            </IconButton>\r\n                                        </Box>\r\n\r\n                                        <TextField\r\n                                            fullWidth\r\n                                            label=\"Label\"\r\n                                            value={field.label}\r\n                                            onChange={(e) => updateField(field.id, { label: e.target.value })}\r\n                                            margin=\"normal\"\r\n                                        />\r\n\r\n                                        {!field.derived && (\r\n                                            <TextField\r\n                                                fullWidth\r\n                                                label=\"Default Value\"\r\n                                                value={field.defaultValue ?? ''}\r\n                                                onChange={(e) => updateField(field.id, { defaultValue: e.target.value })}\r\n                                                margin=\"normal\"\r\n                                            />\r\n                                        )}\r\n\r\n                                        <FormControlLabel\r\n                                            control={\r\n                                                <Checkbox\r\n                                                    checked={field.validation.required}\r\n                                                    onChange={(e) =>\r\n                                                        updateField(field.id, {\r\n                                                            validation: {\r\n                                                                ...field.validation,\r\n                                                                required: e.target.checked,\r\n                                                            },\r\n                                                        })\r\n                                                    }\r\n                                                />\r\n                                            }\r\n                                            label=\"Required\"\r\n                                        />\r\n\r\n                                        {field.type === 'text' || field.type === 'textarea' ? (\r\n                                            <Box>\r\n                                                <TextField\r\n                                                    type=\"number\"\r\n                                                    label=\"Min Length\"\r\n                                                    value={field.validation.minLength || ''}\r\n                                                    onChange={(e) =>\r\n                                                        updateField(field.id, {\r\n                                                            validation: {\r\n                                                                ...field.validation,\r\n                                                                minLength: Number(e.target.value),\r\n                                                            },\r\n                                                        })\r\n                                                    }\r\n                                                    margin=\"normal\"\r\n                                                    size=\"small\"\r\n                                                    sx={{ mr: 2 }}\r\n                                                />\r\n                                                <TextField\r\n                                                    type=\"number\"\r\n                                                    label=\"Max Length\"\r\n                                                    value={field.validation.maxLength || ''}\r\n                                                    onChange={(e) =>\r\n                                                        updateField(field.id, {\r\n                                                            validation: {\r\n                                                                ...field.validation,\r\n                                                                maxLength: Number(e.target.value),\r\n                                                            },\r\n                                                        })\r\n                                                    }\r\n                                                    margin=\"normal\"\r\n                                                    size=\"small\"\r\n                                                />\r\n                                                <Box>\r\n                                                    <FormControlLabel\r\n                                                        control={\r\n                                                            <Checkbox\r\n                                                                checked={field.validation.email || false}\r\n                                                                onChange={(e) =>\r\n                                                                    updateField(field.id, {\r\n                                                                        validation: {\r\n                                                                            ...field.validation,\r\n                                                                            email: e.target.checked,\r\n                                                                        },\r\n                                                                    })\r\n                                                                }\r\n                                                            />\r\n                                                        }\r\n                                                        label=\"Email Format\"\r\n                                                    />\r\n                                                    <FormControlLabel\r\n                                                        control={\r\n                                                            <Checkbox\r\n                                                                checked={field.validation.password || false}\r\n                                                                onChange={(e) =>\r\n                                                                    updateField(field.id, {\r\n                                                                        validation: {\r\n                                                                            ...field.validation,\r\n                                                                            password: e.target.checked,\r\n                                                                        },\r\n                                                                    })\r\n                                                                }\r\n                                                            />\r\n                                                        }\r\n                                                        label=\"Password Rule\"\r\n                                                    />\r\n                                                </Box>\r\n                                            </Box>\r\n                                        ) : null}\r\n\r\n                                        <FormControlLabel\r\n                                            control={\r\n                                                <Checkbox\r\n                                                    checked={field.derived || false}\r\n                                                    onChange={(e) =>\r\n                                                        updateField(field.id, { derived: e.target.checked })\r\n                                                    }\r\n                                                />\r\n                                            }\r\n                                            label=\"Is Derived Field?\"\r\n                                        />\r\n\r\n                                        {field.derived && (\r\n                                            <Box>\r\n                                                <Typography variant=\"subtitle2\" gutterBottom>Parent Fields:</Typography>\r\n                                                {getAvailableParentFields(field.id).map(parentField => (\r\n                                                    <FormControlLabel\r\n                                                        key={parentField.id}\r\n                                                        control={\r\n                                                            <Checkbox\r\n                                                                checked={field.parentFields?.includes(parentField.id) || false}\r\n                                                                onChange={(e) => {\r\n                                                                    const current = field.parentFields || [];\r\n                                                                    const updated = e.target.checked\r\n                                                                        ? [...current, parentField.id]\r\n                                                                        : current.filter(id => id !== parentField.id);\r\n                                                                    updateField(field.id, { parentFields: updated });\r\n                                                                }}\r\n                                                            />\r\n                                                        }\r\n                                                        label={`${parentField.label} (${parentField.type})`}\r\n                                                    />\r\n                                                ))}\r\n\r\n                                                <TextField\r\n                                                    fullWidth\r\n                                                    label=\"Formula / Logic\"\r\n                                                    value={field.formula || ''}\r\n                                                    onChange={(e) => updateField(field.id, { formula: e.target.value })}\r\n                                                    margin=\"normal\"\r\n                                                    helperText=\"Use field labels in lowercase with underscores (e.g., calculateAge(date_of_birth))\"\r\n                                                />\r\n\r\n                                                {field.parentFields && field.parentFields.length > 0 && field.formula && (\r\n                                                    <Alert severity=\"info\" sx={{ mt: 1 }}>\r\n                                                        Available variables: {field.parentFields.map(id => {\r\n                                                            const parentField = fields.find(f => f.id === id);\r\n                                                            return parentField?.label.toLowerCase().replace(/\\s+/g, '_');\r\n                                                        }).join(', ')}\r\n                                                    </Alert>\r\n                                                )}\r\n                                            </Box>\r\n                                        )}\r\n\r\n                                        {(field.type === 'select' || field.type === 'radio' || field.type === 'checkbox') && !field.derived && (\r\n                                            <Box mb={2}>\r\n                                                <Typography variant=\"subtitle1\">Options</Typography>\r\n                                                {field.options?.map((option, optIdx) => (\r\n                                                    <Box key={optIdx} display=\"flex\" alignItems=\"center\" mb={1} gap={1}>\r\n                                                        <TextField\r\n                                                            label={`Option ${optIdx + 1}`}\r\n                                                            value={option}\r\n                                                            onChange={(e) => {\r\n                                                                const newOptions = [...(field.options ?? [])];\r\n                                                                newOptions[optIdx] = e.target.value;\r\n                                                                updateField(field.id, { options: newOptions });\r\n                                                            }}\r\n                                                            size=\"small\"\r\n                                                        />\r\n                                                        {field.options && field.options.length > 2 && (\r\n                                                            <IconButton\r\n                                                                size=\"small\"\r\n                                                                onClick={() => {\r\n                                                                    const newOptions = field.options!.filter((_, i) => i !== optIdx);\r\n                                                                    updateField(field.id, { options: newOptions });\r\n                                                                }}\r\n                                                            >\r\n                                                                <DeleteIcon fontSize=\"small\" />\r\n                                                            </IconButton>\r\n                                                        )}\r\n                                                        <FormControlLabel\r\n                                                            control={\r\n                                                                field.type === 'checkbox' ? (\r\n                                                                    <Checkbox\r\n                                                                        checked={Array.isArray(field.validation['correctAnswers']) ?\r\n                                                                            field.validation['correctAnswers'].includes(option) : false}\r\n                                                                        onChange={(e) => {\r\n                                                                            let correctAnswers = Array.isArray(field.validation['correctAnswers'])\r\n                                                                                ? [...field.validation['correctAnswers']]\r\n                                                                                : [];\r\n                                                                            if (e.target.checked) {\r\n                                                                                correctAnswers.push(option);\r\n                                                                            } else {\r\n                                                                                correctAnswers = correctAnswers.filter(ans => ans !== option);\r\n                                                                            }\r\n                                                                            updateField(field.id, {\r\n                                                                                validation: {\r\n                                                                                    ...field.validation,\r\n                                                                                    correctAnswers,\r\n                                                                                },\r\n                                                                            });\r\n                                                                        }}\r\n                                                                    />\r\n                                                                ) : (\r\n                                                                    <Radio\r\n                                                                        checked={field.validation['correctAnswer'] === option}\r\n                                                                        onChange={() =>\r\n                                                                            updateField(field.id, {\r\n                                                                                validation: {\r\n                                                                                    ...field.validation,\r\n                                                                                    correctAnswer: option,\r\n                                                                                },\r\n                                                                            })\r\n                                                                        }\r\n                                                                    />\r\n                                                                )\r\n                                                            }\r\n                                                            label=\"Correct\"\r\n                                                        />\r\n                                                    </Box>\r\n                                                ))}\r\n                                                <Button\r\n                                                    variant=\"outlined\"\r\n                                                    size=\"small\"\r\n                                                    onClick={() => {\r\n                                                        const newOptions = [...(field.options ?? []), `Option ${field.options!.length + 1}`];\r\n                                                        updateField(field.id, { options: newOptions });\r\n                                                    }}\r\n                                                >\r\n                                                    Add Option\r\n                                                </Button>\r\n                                            </Box>\r\n                                        )}\r\n                                    </Box>\r\n                                </ListItem>\r\n                                <Divider />\r\n                            </Box>\r\n                        ))}\r\n                    </List>\r\n                </Box>\r\n\r\n                {showPreview && fields.length > 0 && (\r\n                    <Box flex={1}>\r\n                        <Paper elevation={2} sx={{ p: 3 }}>\r\n                            <Typography variant=\"h6\" gutterBottom>Live Preview</Typography>\r\n                            <Box>\r\n                                {fields.map(field => (\r\n                                    field.label ? renderPreviewField(field) : null\r\n                                ))}\r\n                                {fields.some(f => f.derived) && (\r\n                                    <Alert severity=\"info\" sx={{ mt: 2 }}>\r\n                                        Derived fields will auto-update as you change parent fields above.\r\n                                    </Alert>\r\n                                )}\r\n                            </Box>\r\n                        </Paper>\r\n                    </Box>\r\n                )}\r\n            </Box>\r\n\r\n            <Box mt={3}>\r\n                <Button variant=\"contained\" color=\"primary\" onClick={() => setOpenDialog(true)} disabled={fields.length === 0}>\r\n                    Save Form\r\n                </Button>\r\n            </Box>\r\n\r\n            <Dialog open={openDialog} onClose={() => setOpenDialog(false)}>\r\n                <DialogTitle>Save Form</DialogTitle>\r\n                <DialogContent>\r\n                    <TextField\r\n                        fullWidth\r\n                        label=\"Form Name\"\r\n                        value={formName}\r\n                        onChange={(e) => setFormName(e.target.value)}\r\n                        margin=\"normal\"\r\n                    />\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={() => setOpenDialog(false)}>Cancel</Button>\r\n                    <Button onClick={saveForm} variant=\"contained\" color=\"primary\" disabled={!formName}>\r\n                        Save\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </Box>\r\n    );\r\n};\r\n\r\nexport default CreateForm;","import React, { useEffect, useState, useCallback, useMemo } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport {\r\n    Box,\r\n    TextField,\r\n    Typography,\r\n    Checkbox,\r\n    FormControlLabel,\r\n    Select,\r\n    MenuItem,\r\n    RadioGroup,\r\n    Radio,\r\n    FormHelperText,\r\n    Button,\r\n    Alert,\r\n} from '@mui/material';\r\n\r\ninterface Validation {\r\n    required: boolean;\r\n    minLength?: number;\r\n    maxLength?: number;\r\n    email?: boolean;\r\n    password?: boolean;\r\n    correctAnswers?: string[];\r\n    correctAnswer?: string;\r\n}\r\n\r\ninterface Field {\r\n    derived?: boolean;\r\n    parentFields?: string[];\r\n    formula?: string;\r\n    id: string;\r\n    type: string;\r\n    label: string;\r\n    defaultValue?: string;\r\n    options?: string[];\r\n    validation: Validation;\r\n}\r\n\r\ninterface FormSchema {\r\n    name: string;\r\n    fields: Field[];\r\n}\r\n\r\nconst PreviewForm: React.FC = () => {\r\n    const [schema, setSchema] = useState<FormSchema | null>(null);\r\n    const [values, setValues] = useState<Record<string, any>>({});\r\n    const [errors, setErrors] = useState<Record<string, string>>({});\r\n    const [submitted, setSubmitted] = useState(false);\r\n    const [result, setResult] = useState<string | null>(null);\r\n\r\n    const { formId } = useParams<{ formId: string }>();\r\n\r\n    useEffect(() => {\r\n        if (!formId) return;\r\n\r\n        const stored = localStorage.getItem(formId);\r\n        if (stored) {\r\n            const parsed = JSON.parse(stored) as FormSchema;\r\n            setSchema(parsed);\r\n\r\n            const defaults: Record<string, any> = {};\r\n            parsed.fields.forEach((f) => {\r\n                if (!f.derived) {\r\n                    defaults[f.id] = f.defaultValue || (f.type === 'checkbox' ? [] : '');\r\n                }\r\n            });\r\n            setValues(defaults);\r\n        }\r\n    }, [formId]);\r\n\r\n    const evalFormula = useCallback((formula: string, context: Record<string, any>) => {\r\n        try {\r\n            let contextValues = Object.values(context);\r\n            if (contextValues.some(val => val === '' || val === undefined || val === null)) {\r\n                return '';\r\n            }\r\n\r\n            const safeContext = { ...context };\r\n\r\n            const helpers = {\r\n                Date: Date,\r\n                Math: Math,\r\n                parseInt: parseInt,\r\n                parseFloat: parseFloat,\r\n                calculateAge: (birthDate: string) => {\r\n                    if (!birthDate) return 0;\r\n                    const today = new Date();\r\n                    const birth = new Date(birthDate);\r\n                    if (isNaN(birth.getTime())) return 0;\r\n\r\n                    let age = today.getFullYear() - birth.getFullYear();\r\n                    const monthDiff = today.getMonth() - birth.getMonth();\r\n\r\n                    if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birth.getDate())) {\r\n                        age--;\r\n                    }\r\n                    return age;\r\n                }\r\n            };\r\n\r\n            const evalContext = { ...safeContext, ...helpers };\r\n\r\n            const params = Object.keys(evalContext);\r\n            contextValues = Object.values(evalContext);\r\n\r\n            const func = new Function(...params, `\"use strict\"; return (${formula});`);\r\n            return func(...contextValues);\r\n        } catch (error) {\r\n            console.error('Formula evaluation error:', error, 'Formula:', formula, 'Context:', context);\r\n            return 'Error';\r\n        }\r\n    }, []);\r\n\r\n    const updateDerivedFields = useCallback((currentValues: Record<string, any>) => {\r\n        if (!schema) return currentValues;\r\n\r\n        const newValues = { ...currentValues };\r\n        let hasChanges = false;\r\n\r\n        schema.fields.forEach(field => {\r\n            if (field.derived && field.parentFields && field.formula) {\r\n                const context: Record<string, any> = {};\r\n                let hasAllParents = true;\r\n\r\n                field.parentFields.forEach(parentId => {\r\n                    const parentField = schema.fields.find(f => f.id === parentId);\r\n                    if (parentField && parentId in currentValues) {\r\n                        const variableName = parentField.label.toLowerCase().replace(/\\s+/g, '_');\r\n                        context[variableName] = currentValues[parentId];\r\n                    } else {\r\n                        hasAllParents = false;\r\n                    }\r\n                });\r\n\r\n                if (hasAllParents) {\r\n                    const computedValue = evalFormula(field.formula, context);\r\n                    \r\n                    if (newValues[field.id] !== computedValue) {\r\n                        newValues[field.id] = computedValue;\r\n                        hasChanges = true;\r\n                    }\r\n                } else {\r\n                    if (field.id in newValues) {\r\n                        delete newValues[field.id];\r\n                        hasChanges = true;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        return hasChanges ? newValues : currentValues;\r\n    }, [schema, evalFormula]);\r\n\r\n    useEffect(() => {\r\n        if (!schema || Object.keys(values).length === 0) return;\r\n\r\n        const updatedValues = updateDerivedFields(values);\r\n        if (updatedValues !== values) {\r\n            setValues(updatedValues);\r\n        }\r\n    }, [schema, values, updateDerivedFields]);\r\n\r\n    const validateField = useCallback((field: Field, value: any): string => {\r\n        const { validation } = field;\r\n\r\n        if (validation.required && (!value || (Array.isArray(value) && value.length === 0))) {\r\n            return 'This field is required.';\r\n        }\r\n\r\n        if (typeof value === 'string') {\r\n            if (validation.minLength && value.length < validation.minLength) {\r\n                return `Minimum length is ${validation.minLength}`;\r\n            }\r\n            if (validation.maxLength && value.length > validation.maxLength) {\r\n                return `Maximum length is ${validation.maxLength}`;\r\n            }\r\n            if (validation.email && value && !/^\\S+@\\S+\\.\\S+$/.test(value)) {\r\n                return 'Invalid email format.';\r\n            }\r\n            if (validation.password && value &&\r\n                (!/^.{8,}$/.test(value) || !/\\d/.test(value))) {\r\n                return 'Password must be at least 8 characters and contain a number.';\r\n            }\r\n        }\r\n\r\n        return '';\r\n    }, []);\r\n\r\n    const handleChange = useCallback((id: string, value: any) => {\r\n        const newValues = { ...values, [id]: value };\r\n        \r\n        const updatedValues = updateDerivedFields(newValues);\r\n        setValues(updatedValues);\r\n\r\n        const field = schema?.fields.find(f => f.id === id);\r\n        if (field && !field.derived) {\r\n            const err = validateField(field, value);\r\n            setErrors(prev => ({ ...prev, [id]: err }));\r\n        }\r\n    }, [values, updateDerivedFields, schema, validateField]);\r\n\r\n    const handleSubmit = (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setSubmitted(true);\r\n\r\n        const newErrors: Record<string, string> = {};\r\n\r\n        schema?.fields.forEach(field => {\r\n            if (!field.derived) {\r\n                const err = validateField(field, values[field.id]);\r\n                if (err) newErrors[field.id] = err;\r\n            }\r\n        });\r\n\r\n        setErrors(newErrors);\r\n\r\n        let correct = true;\r\n        let feedback = '';\r\n\r\n        schema?.fields.forEach(field => {\r\n            const fieldValue = values[field.id];\r\n\r\n            if ((field.type === 'radio' || field.type === 'select') && field.validation.correctAnswer) {\r\n                if (fieldValue !== field.validation.correctAnswer) {\r\n                    correct = false;\r\n                    feedback += `${field.label}: Incorrect answer.\\n`;\r\n                }\r\n            }\r\n\r\n            if (field.type === 'checkbox' && Array.isArray(field.validation.correctAnswers)) {\r\n                const userAnswers = Array.isArray(fieldValue) ? fieldValue : [];\r\n                const correctAnswers = field.validation.correctAnswers;\r\n\r\n                if (userAnswers.length !== correctAnswers.length ||\r\n                    !correctAnswers.every(ans => userAnswers.includes(ans))) {\r\n                    correct = false;\r\n                    feedback += `${field.label}: Incorrect answer.\\n`;\r\n                }\r\n            }\r\n        });\r\n\r\n        setResult(correct ? 'All answers are correct!' : feedback || 'Some answers are incorrect.');\r\n\r\n        if (Object.keys(newErrors).length === 0) {\r\n            console.log('Form Values:', values);\r\n            alert('Form submitted successfully (check console for values)!');\r\n        }\r\n    };\r\n\r\n    if (!schema) {\r\n        return <Typography>Loading form...</Typography>;\r\n    }\r\n\r\n    return (\r\n        <Box p={4}>\r\n            <Typography variant=\"h4\" gutterBottom>\r\n                Preview: {schema.name}\r\n            </Typography>\r\n\r\n            <Box component=\"form\" display=\"flex\" flexDirection=\"column\" gap={3} onSubmit={handleSubmit}>\r\n                {schema.fields.map(field => {\r\n                    const value = values[field.id] ?? (field.type === 'checkbox' ? [] : '');\r\n                    const error = errors[field.id] ?? '';\r\n                    const isDisabled = field.derived || false;\r\n\r\n                    switch (field.type) {\r\n                        case 'text':\r\n                        case 'number':\r\n                        case 'date':\r\n                            return (\r\n                                <TextField\r\n                                    key={field.id}\r\n                                    type={field.type}\r\n                                    label={`${field.label}${isDisabled ? ' (Auto-calculated)' : ''}`}\r\n                                    value={value}\r\n                                    onChange={(e) => handleChange(field.id, e.target.value)}\r\n                                    error={!!error}\r\n                                    helperText={error || (isDisabled ? 'This field is automatically calculated' : '')}\r\n                                    disabled={isDisabled}\r\n                                    sx={isDisabled ? { '& .MuiInputBase-input': { color: 'text.secondary' } } : {}}\r\n                                />\r\n                            );\r\n\r\n                        case 'textarea':\r\n                            return (\r\n                                <TextField\r\n                                    key={field.id}\r\n                                    label={`${field.label}${isDisabled ? ' (Auto-calculated)' : ''}`}\r\n                                    value={value}\r\n                                    onChange={(e) => handleChange(field.id, e.target.value)}\r\n                                    error={!!error}\r\n                                    helperText={error || (isDisabled ? 'This field is automatically calculated' : '')}\r\n                                    multiline\r\n                                    rows={3}\r\n                                    disabled={isDisabled}\r\n                                    sx={isDisabled ? { '& .MuiInputBase-input': { color: 'text.secondary' } } : {}}\r\n                                />\r\n                            );\r\n\r\n                        case 'select':\r\n                            return (\r\n                                <Box key={field.id}>\r\n                                    <Typography>\r\n                                        {field.label}{isDisabled ? ' (Auto-calculated)' : ''}\r\n                                    </Typography>\r\n                                    <Select\r\n                                        fullWidth\r\n                                        value={value}\r\n                                        onChange={(e) => handleChange(field.id, e.target.value)}\r\n                                        disabled={isDisabled}\r\n                                        sx={isDisabled ? { color: 'text.secondary' } : {}}\r\n                                    >\r\n                                        {field.options?.map((opt, i) => (\r\n                                            <MenuItem key={i} value={opt}>\r\n                                                {opt}\r\n                                            </MenuItem>\r\n                                        ))}\r\n                                    </Select>\r\n                                    {error && <FormHelperText error>{error}</FormHelperText>}\r\n                                    {isDisabled && <FormHelperText>This field is automatically calculated</FormHelperText>}\r\n                                </Box>\r\n                            );\r\n\r\n                        case 'radio':\r\n                            return (\r\n                                <Box key={field.id}>\r\n                                    <Typography>\r\n                                        {field.label}{isDisabled ? ' (Auto-calculated)' : ''}\r\n                                    </Typography>\r\n                                    <RadioGroup\r\n                                        value={value}\r\n                                        onChange={(e) => handleChange(field.id, e.target.value)}\r\n                                    >\r\n                                        {field.options?.map((opt, i) => (\r\n                                            <FormControlLabel\r\n                                                key={i}\r\n                                                value={opt}\r\n                                                control={<Radio disabled={isDisabled} />}\r\n                                                label={opt}\r\n                                                sx={isDisabled ? { color: 'text.secondary' } : {}}\r\n                                            />\r\n                                        ))}\r\n                                    </RadioGroup>\r\n                                    {error && <FormHelperText error>{error}</FormHelperText>}\r\n                                    {isDisabled && <FormHelperText>This field is automatically calculated</FormHelperText>}\r\n                                </Box>\r\n                            );\r\n\r\n                        case 'checkbox':\r\n                            return (\r\n                                <Box key={field.id}>\r\n                                    <Typography>\r\n                                        {field.label}{isDisabled ? ' (Auto-calculated)' : ''}\r\n                                    </Typography>\r\n                                    {field.options?.map((opt, i) => (\r\n                                        <FormControlLabel\r\n                                            key={i}\r\n                                            control={\r\n                                                <Checkbox\r\n                                                    checked={Array.isArray(value) && value.includes(opt)}\r\n                                                    onChange={(e) => {\r\n                                                        if (!isDisabled) {\r\n                                                            const checked = e.target.checked;\r\n                                                            const currentValue = Array.isArray(value) ? value : [];\r\n                                                            const newValue = checked\r\n                                                                ? [...currentValue, opt]\r\n                                                                : currentValue.filter(v => v !== opt);\r\n                                                            handleChange(field.id, newValue);\r\n                                                        }\r\n                                                    }}\r\n                                                    disabled={isDisabled}\r\n                                                />\r\n                                            }\r\n                                            label={opt}\r\n                                            sx={isDisabled ? { color: 'text.secondary' } : {}}\r\n                                        />\r\n                                    ))}\r\n                                    {error && <FormHelperText error>{error}</FormHelperText>}\r\n                                    {isDisabled && <FormHelperText>This field is automatically calculated</FormHelperText>}\r\n                                </Box>\r\n                            );\r\n\r\n                        default:\r\n                            return null;\r\n                    }\r\n                })}\r\n\r\n                <Button variant=\"contained\" type=\"submit\" size=\"large\">\r\n                    Submit\r\n                </Button>\r\n            </Box>\r\n\r\n            {submitted && result && (\r\n                <Box mt={2}>\r\n                    <Alert severity={result === 'All answers are correct!' ? 'success' : 'error'}>\r\n                        {result}\r\n                    </Alert>\r\n                </Box>\r\n            )}\r\n        </Box>\r\n    );\r\n};\r\n\r\nexport default PreviewForm;","import React, { useEffect, useState } from 'react';\r\nimport { Box, Typography, List, ListItemButton, ListItemText, Divider } from '@mui/material';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\ninterface FormSchema {\r\n  name: string;\r\n  createdAt: string;\r\n  fields: any[];\r\n}\r\n\r\nconst MyForms: React.FC = () => {\r\n  const [forms, setForms] = useState<{ key: string; data: FormSchema }[]>([]);\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    const formKeys = Object.keys(localStorage).filter((key) => key.startsWith('form_'));\r\n    const loadedForms = formKeys.map((key) => {\r\n      const raw = localStorage.getItem(key);\r\n      if (!raw) return null;\r\n      try {\r\n        const data = JSON.parse(raw) as FormSchema;\r\n        return { key, data };\r\n      } catch (e) {\r\n        console.error(`Error parsing form ${key}:`, e);\r\n        return null;\r\n      }\r\n    }).filter(Boolean) as { key: string; data: FormSchema }[];\r\n\r\n    setForms(loadedForms);\r\n  }, []);\r\n\r\n  const handleClick = (key: string) => {\r\n    history.push(`/preview-form/${encodeURIComponent(key)}`);\r\n  };\r\n\r\n  return (\r\n    <Box p={4}>\r\n      <Typography variant=\"h4\" gutterBottom>Saved Forms</Typography>\r\n      <List>\r\n        {forms.map(({ key, data }) => (\r\n          <React.Fragment key={key}>\r\n            <ListItemButton onClick={() => handleClick(key)}>\r\n              <ListItemText\r\n                primary={data.name}\r\n                secondary={`Created: ${new Date(data.createdAt).toLocaleString()}`}\r\n              />\r\n            </ListItemButton>\r\n            <Divider />\r\n          </React.Fragment>\r\n        ))}\r\n        {forms.length === 0 && (\r\n          <Typography>No saved forms found.</Typography>\r\n        )}\r\n      </List>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default MyForms;\r\n","import React, { useState } from 'react';\nimport { BrowserRouter as Router, Route, Switch, Redirect } from 'react-router-dom';\nimport CreateForm from './components/CreateForm';\nimport PreviewForm from './components/PreviewForm';\nimport MyForms from './components/MyForms';\n\nconst App: React.FC = () => {\n    return (\n        <Router>\n            <Switch>\n                <Route path=\"/create-form\" component={CreateForm} />\n                <Route path=\"/preview-form/:formId\" component={PreviewForm} />\n                <Route path=\"/my-forms\" component={MyForms} />\n                <Redirect from=\"/\" to=\"/create-form\" exact />\n            </Switch>\n        </Router>\n    );\n};\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"]}}