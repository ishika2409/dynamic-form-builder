{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Box,Typography,List,ListItemButton,ListItemText,Divider}from'@mui/material';import{useHistory}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MyForms=()=>{const[forms,setForms]=useState([]);const history=useHistory();useEffect(()=>{const formKeys=Object.keys(localStorage).filter(key=>key.startsWith('form_'));const loadedForms=formKeys.map(key=>{const raw=localStorage.getItem(key);if(!raw)return null;try{const data=JSON.parse(raw);return{key,data};}catch(e){console.error(\"Error parsing form \".concat(key,\":\"),e);return null;}}).filter(Boolean);setForms(loadedForms);},[]);const handleClick=key=>{history.push(\"/preview-form/\".concat(encodeURIComponent(key)));};return/*#__PURE__*/_jsxs(Box,{p:4,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",gutterBottom:true,children:\"Saved Forms\"}),/*#__PURE__*/_jsxs(List,{children:[forms.map(_ref=>{let{key,data}=_ref;return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(ListItemButton,{onClick:()=>handleClick(key),children:/*#__PURE__*/_jsx(ListItemText,{primary:data.name,secondary:\"Created: \".concat(new Date(data.createdAt).toLocaleString())})}),/*#__PURE__*/_jsx(Divider,{})]},key);}),forms.length===0&&/*#__PURE__*/_jsx(Typography,{children:\"No saved forms found.\"})]})]});};export default MyForms;","map":{"version":3,"names":["React","useEffect","useState","Box","Typography","List","ListItemButton","ListItemText","Divider","useHistory","jsx","_jsx","jsxs","_jsxs","MyForms","forms","setForms","history","formKeys","Object","keys","localStorage","filter","key","startsWith","loadedForms","map","raw","getItem","data","JSON","parse","e","console","error","concat","Boolean","handleClick","push","encodeURIComponent","p","children","variant","gutterBottom","_ref","Fragment","onClick","primary","name","secondary","Date","createdAt","toLocaleString","length"],"sources":["C:/Users/ishik/VS code/Form/dynamic-form-builder/src/components/MyForms.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Box, Typography, List, ListItemButton, ListItemText, Divider } from '@mui/material';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\ninterface FormSchema {\r\n  name: string;\r\n  createdAt: string;\r\n  fields: any[];\r\n}\r\n\r\nconst MyForms: React.FC = () => {\r\n  const [forms, setForms] = useState<{ key: string; data: FormSchema }[]>([]);\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    const formKeys = Object.keys(localStorage).filter((key) => key.startsWith('form_'));\r\n    const loadedForms = formKeys.map((key) => {\r\n      const raw = localStorage.getItem(key);\r\n      if (!raw) return null;\r\n      try {\r\n        const data = JSON.parse(raw) as FormSchema;\r\n        return { key, data };\r\n      } catch (e) {\r\n        console.error(`Error parsing form ${key}:`, e);\r\n        return null;\r\n      }\r\n    }).filter(Boolean) as { key: string; data: FormSchema }[];\r\n\r\n    setForms(loadedForms);\r\n  }, []);\r\n\r\n  const handleClick = (key: string) => {\r\n    history.push(`/preview-form/${encodeURIComponent(key)}`);\r\n  };\r\n\r\n  return (\r\n    <Box p={4}>\r\n      <Typography variant=\"h4\" gutterBottom>Saved Forms</Typography>\r\n      <List>\r\n        {forms.map(({ key, data }) => (\r\n          <React.Fragment key={key}>\r\n            <ListItemButton onClick={() => handleClick(key)}>\r\n              <ListItemText\r\n                primary={data.name}\r\n                secondary={`Created: ${new Date(data.createdAt).toLocaleString()}`}\r\n              />\r\n            </ListItemButton>\r\n            <Divider />\r\n          </React.Fragment>\r\n        ))}\r\n        {forms.length === 0 && (\r\n          <Typography>No saved forms found.</Typography>\r\n        )}\r\n      </List>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default MyForms;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,GAAG,CAAEC,UAAU,CAAEC,IAAI,CAAEC,cAAc,CAAEC,YAAY,CAAEC,OAAO,KAAQ,eAAe,CAC5F,OAASC,UAAU,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAQ9C,KAAM,CAAAC,OAAiB,CAAGA,CAAA,GAAM,CAC9B,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGd,QAAQ,CAAsC,EAAE,CAAC,CAC3E,KAAM,CAAAe,OAAO,CAAGR,UAAU,CAAC,CAAC,CAE5BR,SAAS,CAAC,IAAM,CACd,KAAM,CAAAiB,QAAQ,CAAGC,MAAM,CAACC,IAAI,CAACC,YAAY,CAAC,CAACC,MAAM,CAAEC,GAAG,EAAKA,GAAG,CAACC,UAAU,CAAC,OAAO,CAAC,CAAC,CACnF,KAAM,CAAAC,WAAW,CAAGP,QAAQ,CAACQ,GAAG,CAAEH,GAAG,EAAK,CACxC,KAAM,CAAAI,GAAG,CAAGN,YAAY,CAACO,OAAO,CAACL,GAAG,CAAC,CACrC,GAAI,CAACI,GAAG,CAAE,MAAO,KAAI,CACrB,GAAI,CACF,KAAM,CAAAE,IAAI,CAAGC,IAAI,CAACC,KAAK,CAACJ,GAAG,CAAe,CAC1C,MAAO,CAAEJ,GAAG,CAAEM,IAAK,CAAC,CACtB,CAAE,MAAOG,CAAC,CAAE,CACVC,OAAO,CAACC,KAAK,uBAAAC,MAAA,CAAuBZ,GAAG,MAAKS,CAAC,CAAC,CAC9C,MAAO,KAAI,CACb,CACF,CAAC,CAAC,CAACV,MAAM,CAACc,OAAO,CAAwC,CAEzDpB,QAAQ,CAACS,WAAW,CAAC,CACvB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAY,WAAW,CAAId,GAAW,EAAK,CACnCN,OAAO,CAACqB,IAAI,kBAAAH,MAAA,CAAkBI,kBAAkB,CAAChB,GAAG,CAAC,CAAE,CAAC,CAC1D,CAAC,CAED,mBACEV,KAAA,CAACV,GAAG,EAACqC,CAAC,CAAE,CAAE,CAAAC,QAAA,eACR9B,IAAA,CAACP,UAAU,EAACsC,OAAO,CAAC,IAAI,CAACC,YAAY,MAAAF,QAAA,CAAC,aAAW,CAAY,CAAC,cAC9D5B,KAAA,CAACR,IAAI,EAAAoC,QAAA,EACF1B,KAAK,CAACW,GAAG,CAACkB,IAAA,MAAC,CAAErB,GAAG,CAAEM,IAAK,CAAC,CAAAe,IAAA,oBACvB/B,KAAA,CAACb,KAAK,CAAC6C,QAAQ,EAAAJ,QAAA,eACb9B,IAAA,CAACL,cAAc,EAACwC,OAAO,CAAEA,CAAA,GAAMT,WAAW,CAACd,GAAG,CAAE,CAAAkB,QAAA,cAC9C9B,IAAA,CAACJ,YAAY,EACXwC,OAAO,CAAElB,IAAI,CAACmB,IAAK,CACnBC,SAAS,aAAAd,MAAA,CAAc,GAAI,CAAAe,IAAI,CAACrB,IAAI,CAACsB,SAAS,CAAC,CAACC,cAAc,CAAC,CAAC,CAAG,CACpE,CAAC,CACY,CAAC,cACjBzC,IAAA,CAACH,OAAO,GAAE,CAAC,GAPQe,GAQL,CAAC,EAClB,CAAC,CACDR,KAAK,CAACsC,MAAM,GAAK,CAAC,eACjB1C,IAAA,CAACP,UAAU,EAAAqC,QAAA,CAAC,uBAAqB,CAAY,CAC9C,EACG,CAAC,EACJ,CAAC,CAEV,CAAC,CAED,cAAe,CAAA3B,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module"}